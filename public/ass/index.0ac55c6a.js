var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,s=(e,a)=>{for(var t in a||(a={}))l.call(a,t)&&n(e,t,a[t]);if(r)for(var t of r(a))i.call(a,t)&&n(e,t,a[t]);return e},c=(e,r)=>a(e,t(r));export function __vite_legacy_guard(){import("data:text/javascript,")}import{j as o,c as d,u as m,a as u,b as p,r as h,L as g,m as b,B as f,Q as x,d as y,e as v,F as N,V as w,f as k,g as z,h as _,i as C,A as S,k as P,S as j,E,l as F,n as q,o as L,p as A,G as H,q as R,s as I,t as O,v as $,N as U,w as D,x as Q,M,y as T,z as B,C as V,D as K,H as W,I as G,J as Z,K as Y,O as X,P as J,R as ee,T as ae,U as te,W as re,X as le,Y as ie,Z as ne,_ as se,$ as ce,a0 as oe,a1 as de,a2 as me,a3 as ue,a4 as pe,a5 as he,a6 as ge,a7 as be,a8 as fe,a9 as xe}from"./vendor.22960b95.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?a.credentials="include":"anonymous"===e.crossorigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const ye=({children:e,className:a,my:t,onClick:r})=>o("section",{onClick:r,className:` ${a}   mx-auto bg-white rounded dark:bg-slate-800 shadow-sm p-3 w-full h-full`,children:e}),ve=d((e=>({aboutPl:"Pl from store",aboutEn:"En from Store",changeAboutPl:a=>e({aboutPl:a}),changeAboutEn:a=>e({aboutEn:a})}))),Ne=d((e=>({name:"",email:"",setName:a=>e({name:a}),setEmail:a=>e({email:a})}))),we=({prices:e})=>{const{a1:a,a2:t,b1:r,b2:l,c1:i,c2:n}=e;console.log("prices :",e);const{register:d,handleSubmit:h,watch:g,formState:{errors:b}}=m({defaultValues:{a1:a,a2:t,b1:r,b2:l,c1:i,c2:n}});return u("form",{onSubmit:h((e=>{const a={a1:e.a1,a2:e.a2,b1:e.b1,b2:e.b2,c1:e.c1,c2:e.c2};confirm("Zmienić poziomy cen ?")&&p.post("/prices/1",a)})),className:"grid grid-cols-3 gap-3 items-center",children:["Od-do (msc.)",o("input",c(s({type:"number"},d("a1",{required:!0})),{className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),o("input",c(s({type:"number"},d("a2",{required:!0})),{className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),"Od-do (msc.)",o("input",c(s({type:"number"},d("b1",{required:!0})),{className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),o("input",c(s({type:"number"},d("b2",{required:!0})),{className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),"Od-do (msc.)",o("input",c(s({type:"number"},d("c1",{required:!0})),{className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),o("input",c(s({type:"number"},d("c2",{required:!0})),{className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),o(ye,{className:"col-span-3 w-full",children:o("button",{type:"submit",className:" w-full\t hover:opacity-90  font-semibold cursor-pointer  bg-primary hover:opacity-9 text-zinc-100 px-3 py-2 rounded-sm",children:"Edytuj"})})]})},ke=({})=>{ve((e=>e.aboutPl)),ve((e=>e.aboutEn)),ve((e=>e.changeAboutPl));const e=Ne((e=>e.name)),[a,t]=h.exports.useState();return h.exports.useEffect((()=>{p.get("/prices/1").then((e=>{console.log("data :",e.data.data),t(e.data.data)}))}),[]),u("div",{children:[o(g,{to:"/auth/register",children:u(ye,{className:"mb-8  text-lg uppercase font-semibold",children:["Witam , ",e," "]})}),u("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o(b.div,{whileHover:{scale:.95},className:"cursor-pointer",children:o(g,{to:"/locations/create",children:o(ye,{children:u("div",{className:"flex items-center justify-between p-8",children:[o("h2",{className:"text-lg text-slate-800 dark:text-slate-200 ",children:"Dodaj Lokalizację"}),o(f,{})]})})})}),o(b.div,{whileHover:{scale:.95},className:"cursor-pointer",children:o(g,{to:"/rooms/create",children:o(ye,{children:u("div",{className:"flex items-center justify-between p-8",children:[o("h2",{className:"text-lg text-slate-800 dark:text-slate-200 ",children:"Dodaj Pokój"}),o(f,{})]})})})}),o(b.div,{whileHover:{scale:.95},className:"cursor-pointer",children:o(g,{to:"/map/categories",children:o(ye,{children:u("div",{className:"flex items-center justify-between p-8",children:[o("h2",{className:"text-lg text-slate-800 dark:text-slate-200 ",children:"Dodaj typ miejsca"}),o(f,{})]})})})}),o(b.div,{whileHover:{scale:.95},className:"cursor-pointer",children:o(g,{to:"/map/create",children:o(ye,{children:u("div",{className:"flex items-center justify-between p-8",children:[o("h2",{className:"text-lg text-slate-800 dark:text-slate-200 ",children:"Dodaj Miejsce"}),o(f,{})]})})})}),o(b.div,{whileHover:{scale:.95},className:"cursor-pointer",children:o(g,{to:"/media",children:o(ye,{children:u("div",{className:"flex items-center justify-between p-8",children:[o("h2",{className:"text-lg text-slate-800 dark:text-slate-200 ",children:"Pliki"}),o(f,{})]})})})})]}),o("div",{className:"h-8"}),o(ye,{className:"max-w-sm mx-auto",children:o("h1",{children:"Poziomy Cen"})}),o("div",{className:"h-8"}),o(ye,{className:"max-w-sm mx-auto",children:a&&o(we,{prices:a})})]})},ze=({})=>o("div",{children:o(ye,{children:"sss"})});async function _e(){const{data:e}=await p.get("/notes");return e.data}async function Ce(){const{data:e}=await p.get("/categories");return e.data}async function Se(){const{data:e}=await p.get("/placetypes");return e}async function Pe(){const{data:e}=await p.get("/places");return e.data}async function je(){const{data:e}=await p.get("/locations");return e.data}async function Ee(){const{data:e}=await p.get("/districts");return e.data}async function Fe(){const{data:e}=await p.get("/rooms");return e}async function qe(){const{data:e}=await p.get("/roomtypes");return e.data}async function Le(){const{data:e}=await p.get("/pictures");return e}async function Ae(){const{data:e}=await p.get("/files");return e}async function He(){const{data:e}=await p.get("/reservations");return e}const Re=new x,Ie=({})=>{const{data:e,isError:a,error:t,isLoading:r}=y("media",Ae),l=v((e=>p.delete(`files/${e}`)),{onSuccess:e=>{Re.invalidateQueries("media")}});return a?u("h1",{children:["Error : ",t]}):r?o("h1",{children:"loading"}):u(N,{children:[u(ye,{className:"flex justify-between items-center",children:[o("h1",{className:"text-2xl uppercase",children:"Pliki"}),o(g,{to:"/media/add",children:o("div",{className:"bg-primary rounded-sm px-3 py-2",children:"Dodaj"})})]}),o("div",{className:"h-8"}),o("div",{className:"gap-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:null==e?void 0:e.map((e=>u(ye,{className:"flex justify-between",children:[o("div",{className:"cursor-pointer hover:text-primary",onClick:()=>{return a=e.id,t=e.name,void p.get(`/files/download/${a}`).then((e=>{k(e.data,t)}));var a,t},children:e.name}),o("div",{onClick:()=>{return a=e.id,void(confirm("Na pewno skasować")&&l.mutate(a));var a},className:" z-10 text-gray-800 text-2xl   h-full  dark:text-gray-200  flex-center  hover:rotate-180 transition-transform duration-300 cursor-pointer ",children:o(w,{})})]},e.id)))})]})},Oe=({})=>o("div",{className:"w-full h-full flex-center",children:u("div",{className:"lds-ellipsis",children:[o("div",{}),o("div",{}),o("div",{}),o("div",{})]})}),$e=({})=>{const[e,a]=h.exports.useState([]),[t,r]=h.exports.useState(!1),l=h.exports.useCallback((t=>{a([...e,...t])}),[e]),i=z(),{acceptedFiles:n,getRootProps:d,getInputProps:m}=_({onDrop:l}),g=v((e=>{const a={headers:{"content-type":"multipart/form-data"}},t=e.map((e=>{const t=new FormData;return t.append("file",e),p.post("/files",t,a)}));return r(!0),p.all(t)}),{onSuccess:()=>{alert("success"),r(!1),Re.invalidateQueries("media"),i("/media")}});return u("div",{children:[o(ye,{children:o("section",{className:"h-64 items-stretch justify-between  \t    flex-col  border-4 border-slate-300 border-dotted cursor-pointer",children:u("div",c(s({},d({className:"dropzone"})),{className:" h-full flex-center",children:[o("input",s({},m())),u("div",{className:"flex flex-col  h-full flex-center  w-full",children:[o(C,{className:"f text-5xl mb-2 mx-auto"}),o("p",{children:"Przeciągnij lub kliknij aby dodać zdjęcia"})]})]}))})}),o("div",{className:"h-8"}),o("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:null==e?void 0:e.map(((e,a)=>o(ye,{children:e.name},a)))}),o("div",{className:"h-8"}),u(ye,{className:"text-2xl w-full py-4   items-center grid grid-cols-1 sm:grid-cols-2 gap-3  font-semibold cursor-pointer",children:[o(b.div,{onClick:async()=>{e.length>0&&g.mutate(e)},whileHover:{scale:.95},className:"flex-center bg-primary hover:opacity-9  text-zinc-100  text-center py-2 rounded-sm",children:t?o(Oe,{}):o("div",{className:"h-12  flex-center",children:"Dodaj "})}),o(b.div,{onClick:()=>{a([])},whileHover:{scale:.95},className:" bg-white hover:opacity-9  text-primary  text-center py-2 rounded-sm",children:o("div",{className:"h-12 flex-center",children:"Wyczyść"})})]})]})},Ue=({})=>u("div",{children:[o(ye,{children:"Publikacje na OLX"}),o(ye,{className:"max-w-sm mt-4",children:u("form",{className:" flex gap-3 flex-wrap",children:[u("label",{className:"",htmlFor:"price",children:["Ile dni przed Zwolnieniem",o("input",{type:"number",className:"mx-auto w-full mt-2  rounded-sm dark:bg-zinc-700"})]}),u("label",{htmlFor:"price",className:"",children:["Która godzina",o("input",{type:"number",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})]}),u("div",{className:"flex items-center",children:[o("label",{className:"uppercase mr-3",htmlFor:"internet",children:"Publikuj"}),o("input",{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})]}),o("button",{type:"submit",className:"w-full hover:opacity-90  font-semibold cursor-pointer  bg-primary hover:opacity-9 text-zinc-100 px-3 py-2 rounded-sm",children:"Zmień"})]})})]}),De=d((e=>({darkmode:!0,changeMode:()=>e((e=>({darkmode:!e.darkmode})))}))),Qe=({})=>{const e=z(),{register:a,handleSubmit:t,watch:r,formState:{errors:l}}=m(),i=v((e=>p.post("/auth/login",e)),{onSuccess:a=>{console.log("data :",a.data.token),window.localStorage.setItem("key",a.data.token),e("/")},onError:()=>{alert("Coś poszło nie tak")}});return o("main",{className:"mt-24",children:u(ye,{className:"box p-7 shadow-lg max-w-sm ",children:[o("h1",{className:" mb-2 text-3xl font-semibold  text-center",children:"Login "}),u("form",{onSubmit:t((e=>{console.log("xxxx :",e),i.mutate(e)})),className:"flex  flex-col max-w-sm",children:[o("label",{className:"my-0",htmlFor:"email",children:"Email"}),o("input",c(s({},a("email")),{className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700  my-0",type:"text",name:"email"})),o("label",{className:"my-0",htmlFor:"password",children:"Hasło"}),o("input",c(s({},a("password",{required:!0})),{className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700",type:"password"})),o("input",{type:"submit",value:"Login",className:"cursor-pointer  duration-300 mt-3 bg-primary py-3 font-bold text-zinc-100 uppercase"})]}),o(g,{to:"/auth/register",children:"Register"})]})})},Me=({})=>{const e=z(),{register:a,handleSubmit:t,watch:r,formState:{errors:l}}=m(),i=v((e=>p.post("/auth/register",e)),{onSuccess:a=>{console.log("token :",a.data.token),window.localStorage.setItem("key",a.data.token),e("/")}});return o("main",{className:"",children:u(ye,{className:"box p-7 shadow-lg max-w-sm ",children:[o("h1",{className:" mb-2 text-3xl font-semibold  text-center",children:"Register "}),u("form",{onSubmit:t((e=>{console.log("dataForm :",e),i.mutate(e)})),className:"flex  flex-col max-w-sm",children:[o("label",{className:"my-0",htmlFor:"email",children:"imię"}),o("input",c(s({},a("name",{required:!0})),{className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700  my-0  ",type:"text"})),o("label",{className:"my-0",htmlFor:"email",children:"Email"}),o("input",c(s({},a("email",{required:!0})),{className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700  my-0  ",type:"text"})),o("label",{className:"my-0",htmlFor:"password",children:"Hasło"}),o("input",c(s({},a("password",{required:!0})),{className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700",type:"password"})),o("label",{className:"my-0",htmlFor:"password_confirmation",children:"Powtórz hasło"}),o("input",c(s({},a("password_confirmation",{required:!0})),{className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700",type:"password"})),o("input",{type:"submit",value:"Register",className:"cursor-pointer mt-3 bg-primary py-3 font-bold text-zinc-100 uppercase"})]}),o(g,{to:"/auth/login",children:"Login"})]})})},Te=({children:e,className:a,my:t,onClick:r})=>o(b.section,{whileHover:{scale:.95},onClick:r,className:` ${a}  my-${t}  mx-auto bg-white rounded dark:bg-slate-800 shadow-sm p-3 w-full h-full`,children:e}),Be=({})=>{const{data:e,isError:a,isLoading:t,error:r}=y("notes",_e);return a?o(N,{children:u(ye,{children:["Error : ",null==r?void 0:r.message]})}):t?o(N,{children:o(ye,{children:"Loading..."})}):u("div",{children:[o(ye,{children:u("div",{className:" uppercase  flex justify-between items-center ",children:[o("div",{children:"Notatki"}),o("div",{className:"flex items-stretch",children:o(g,{className:"mx-2",to:"/notes/create",children:o("div",{className:"bg-primary text-slate-100 font-medium py-2 px-3 rounded-sm",children:"Utwórz"})})})]})}),o("div",{className:" my-3 grid grid-cols-1  md:grid-cols-2 gap-3 html-text ",children:e&&(null==e?void 0:e.map((e=>o(g,{to:`/note/${e.id}`,children:o(Te,{children:u("div",{className:"flex justify-between items-center",children:[o("h1",{children:e.name}),o("p",{className:" font-serif",children:e.category})]})})},e.id))))})]})},Ve=({children:e})=>o(S,{children:o(b.div,{className:"text-red-800",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.7},children:e})}),Ke=({editor:e})=>e?u("div",{className:" flex justify-between flex-wrap",children:[o("div",{onClick:()=>e.chain().focus().toggleBold().run(),className:""+(e.isActive(" bold")?"is-active":""),children:o(F,{className:"text-md"})}),o("div",{onClick:()=>e.chain().focus().toggleItalic().run(),className:e.isActive("italic")?"is-active":"",children:o(q,{className:"text-md"})}),o("div",{onClick:()=>e.chain().focus().toggleStrike().run(),className:e.isActive("strike")?"is-active":"",children:o(L,{})}),o("div",{onClick:()=>e.chain().focus().setParagraph().run(),className:e.isActive("paragraph")?"is-active":"",children:"p"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:1}).run(),className:e.isActive("heading",{level:1})?"is-active":"",children:"h1"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),className:e.isActive("heading",{level:2})?"is-active":"",children:"h2"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:3}).run(),className:e.isActive("heading",{level:3})?"is-active":"",children:"h3"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:4}).run(),className:e.isActive("heading",{level:4})?"is-active":"",children:"h4"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:5}).run(),className:e.isActive("heading",{level:5})?"is-active":"",children:"h5"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:6}).run(),className:e.isActive("heading",{level:6})?"is-active":"",children:"h6"}),o("div",{onClick:()=>e.chain().focus().toggleBulletList().run(),className:e.isActive("bulletList")?"is-active":"",children:o(A,{})}),o("div",{onClick:()=>e.chain().focus().toggleBlockquote().run(),className:e.isActive("blockquote")?"is-active":"",children:o(H,{})}),o("div",{onClick:()=>e.chain().focus().setHorizontalRule().run(),children:"hr"}),o("div",{onClick:()=>e.chain().focus().setHardBreak().run(),children:"br"}),o("div",{onClick:()=>e.chain().focus().undo().run(),children:o(R,{})}),o("div",{onClick:()=>e.chain().focus().redo().run(),children:o(I,{})})]}):null,We=()=>{const e=z(),{reset:a,register:t,handleSubmit:r,watch:l,formState:{errors:i}}=m(),{data:n,isError:d,isLoading:h,error:g}=y("categories",Ce),b=v((e=>p.post("/notes",e)),{onSuccess:()=>{Re.invalidateQueries("notes"),e("/notes")}}),f=P({extensions:[j],content:""});return o("div",{children:u("form",{onSubmit:r((e=>{const a=e.name,t=e.category?parseInt(e.category):1,r=null==f?void 0:f.getHTML();b.mutate({name:a,content:r,category_id:t})})),children:[u(ye,{children:[o("input",c(s({autoComplete:"off",placeholder:"Title"},t("name",{required:!0})),{className:"w-full dark:bg-zinc-700",type:"text",id:""})),i.name&&o("p",{className:"py-2 text-red-800",children:"Name Required"})]}),o("div",{className:"h-6"}),u(ye,{children:[u("div",{className:"grid grid-cols-2 items-center",children:[o("h1",{children:"Category :"}),o("div",{children:o("select",c(s({className:"dark:bg-zinc-700 w-full"},t("category",{required:!0})),{children:null==n?void 0:n.map((e=>o("option",{className:"py-8 appearance-none",value:e.id,children:e.name},e.id)))}))})]}),i.category&&o(Ve,{children:"Pole wymagane"})]}),o("div",{className:"h-6"}),u(ye,{children:[o(Ke,{editor:f}),o(E,{editor:f}),o("div",{className:"h-2"}),o("button",{type:"submit",className:"bg-primary font-semibold cursor-pointer  w-full mt-2 hover:opacity-95 transition-opacity duration-300 text-zinc-100 px-3 py-2 rounded-sm",children:"Utwórz"}),o("div",{className:"h-4"})]})]})})},Ge=({})=>{h.exports.useState("");const e=z();return u(N,{children:[o(ye,{children:u("div",{className:"flex justify-between items-stretch  ",children:[o("h2",{className:" py-2 font-semibold h-full flex-center ",children:"Utwórz"}),o("div",{className:"bg-primary px-4 h-full py-2 text-white uppercase  ",onClick:()=>e(-1),children:"Powrót"})]})}),o("div",{className:"my-4 max-w-lg mx-auto",children:u("div",{children:[o("div",{className:"h-1  bg-slate-900 my-2 opacity-5"}),o(We,{})]})})]})},Ze=({})=>{const e=z(),a=O();if(!a.id)return o(ye,{children:"Error no data"});const t=parseInt(a.id),{data:r,isError:l,isLoading:i,error:n}=y(["note",t],(()=>async function(e){const{data:a}=await p.get(`/notes/${e}`);return a.data}(t))),s=v((e=>p.delete(`/notes/${e}`)),{onSuccess:()=>{Re.invalidateQueries("note"),Re.invalidateQueries("notes"),e("/notes")}});return i?o(ye,{children:o(Oe,{})}):(console.log("data :",r),u(N,{children:[u(ye,{className:"mb-4 flex items-center justify-between",children:[o("h1",{className:"px-2 text-2xl uppercase",children:null==r?void 0:r.name}),o("div",{onClick:()=>{confirm("Na pewno chcesz usunąć?")&&s.mutate(t)},className:"bg-primary rounded-sm px-3 py-2",children:"Usuń"})]}),o(ye,{children:o("div",{className:"ProseMirror border-0",dangerouslySetInnerHTML:{__html:(null==r?void 0:r.content)?r.content:""}})})]}))},Ye=({})=>o("div",{children:"NotFound"}),Xe=({})=>o("svg",{className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),Je=({})=>o("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),ea=()=>{const[e,a]=h.exports.useState(!1),t=De((e=>e.darkmode)),r=De((e=>e.changeMode));return u($,{checked:t,onChange:r,className:` toggler border-2 border-white-800   transition-colors ease-in-out duration-200 ${e?"bg-grey-600":"bg-gray-600"}  inline-flex items-center justify-evenly h-8 rounded-full w-14`,children:[o("span",{className:"sr-only",children:"Enable notifications"}),o("span",{className:"h-6 w-6  transition-transform duration-300  "+(t?"left":"right")}),o(Je,{}),o(Xe,{})]})},aa=({})=>{const e=Ne((e=>e.name)),a=Ne((e=>e.email)),t=z(),[r,l]=h.exports.useState(!1);return u("header",{children:[r&&o("div",{onClick:()=>l(!1),className:"  fixed left-0 top-0 w-full h-full z-20"}),o("nav",{className:"dark:bg-gray-800 dark:text-zinc-100 z-20 max-6xl mx-auto bg-white shadow-sm w-full h-16 fixed top-0 flax",children:u("div",{className:"brand text-2xl h-full flex  justify-between px-8   items-stretch",children:[o("div",{className:"flex items-stretch ",children:u(U,{to:"/",className:" flex items-center h-full hover:text-primary transition duration-300",children:[o(D,{}),o("div",{className:"ml-2",children:"Home"})]})}),u("div",{className:"ml-auto flex items-center uppercase ",children:[u("div",{className:"relative mr-4 text-base flex items-center  h-full cursor-pointer  transition-colors duration-100",children:[u("div",{onClick:()=>l(!r),className:"flex items-center px-4  h-full hover:text-primary",children:[o("h1",{className:"pr-2",children:e}),o(Q,{})]}),o(b.button,{onClick:()=>{p.post("/auth/logout",{email:a}).then((e=>{t("/auth/login")}))},animate:{y:r?30:0,visibility:r?"visible":"hidden"},className:"z-30 hover:bg-slate-200 dark:bg-slate-500 dark:hover:bg-slate-400  px-3 py-2 absolute right-0 bottom-0 mr-4 rounded  origin-bottom translate-y-full   dark:text-zinc-100 bg-white  shadow-lg   shadow-gray-300 dark:shadow-slate-700  ",children:"Logout"})]}),o(ea,{})]})]})})]})},ta=({children:e,onClick:a})=>o("button",{onClick:a,className:" transition-transform duration-150 hover:scale-105 w-full relative text-gray-800  dark:text-gray-200 uppercase flex items-center justify-center sm:justify-between sm:pr-3 leading-8 p-2 font-medium dark:hover:bg-slate-700 hover:bg-slate-100",children:e}),ra=d((e=>({sidebar:"",toggleSide:a=>e({sidebar:a})}))),la=({})=>o("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),ia=({})=>{ra((e=>e.sidebar));const e=ra((e=>e.toggleSide));return u("aside",{className:" flex flex-col fixed top-0 left-0 w-12 sm:w-48 overflow-x-hidden z-10 h-full pt-16 shadow-lg   bg-white dark:bg-slate-800 ",children:[u(ta,{onClick:()=>e("back"),children:[o(la,{}),o("span",{className:"hidden sm:block",children:"Powrót"})]}),o(U,{className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/notes",children:u(ta,{children:[o("span",{className:"hidden sm:block ",children:"Notatki"}),o(M,{className:"text-2xl"})]})}),o(U,{className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/notes/categories",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Kategorie"}),o(T,{})]})}),o(U,{className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/notes/create",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Utwórz"}),o(f,{})]})})]})},na=({})=>{const e=ra((e=>e.toggleSide));return u("aside",{className:" flex flex-col fixed top-0 left-0 w-12 sm:w-48 overflow-x-hidden z-10 h-full pt-16 shadow-lg   bg-white dark:bg-slate-800 ",children:[u(ta,{onClick:()=>e("null"),children:[o(la,{}),o("span",{className:"hidden sm:block",children:"Powrót"})]}),o(U,{className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/map/",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Miejsca"}),o(B,{className:"text-2xl"})]})}),o(U,{className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/map/categories",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Kategorie"}),o(T,{})]})}),o(U,{className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/map/create",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Utwórz"}),o(f,{})]})})]})},sa=({})=>{const e=ra((e=>e.toggleSide));return u("aside",{className:" flex flex-col fixed top-0 left-0 w-12 sm:w-48 overflow-x-hidden z-10 h-full pt-16 shadow-lg   bg-white dark:bg-slate-800 ",children:[u(ta,{onClick:()=>e("null"),children:[o(la,{}),o("span",{className:"hidden sm:block",children:"Powrót"})]}),o(U,{className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/media",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Pliki"}),o(V,{className:"text-2xl"})]})}),o(U,{className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/media/add",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Dodaj"}),o(f,{})]})})]})},ca=({})=>{const e=ra((e=>e.toggleSide));return u("aside",{className:" gap-1 flex flex-col fixed top-0 left-0 w-12 sm:w-48 overflow-x-hidden z-10 h-full pt-16 shadow-lg   bg-white dark:bg-slate-800 ",children:[u(ta,{onClick:()=>e("null"),children:[o(la,{}),o("span",{className:"hidden sm:block",children:"Powrót"})]}),o(U,{className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/rooms",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Pokoje"}),o(K,{className:"text-2xl"})]})}),o(U,{className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/rooms/create",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Nowy"}),o(f,{})]})}),o(U,{className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/locations",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Lokalizacje"}),o(T,{})]})}),o(U,{className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/roomtypes",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Typy pokojów"}),o(T,{})]})}),o(U,{className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/districts",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Osiedla"}),o(T,{})]})})]})},oa=({})=>{ra((e=>e.sidebar));const e=ra((e=>e.toggleSide));return u("aside",{className:" flex flex-col fixed top-0 left-0 w-12 sm:w-48 overflow-x-hidden z-10 h-full pt-16 shadow-lg   bg-white dark:bg-slate-800 ",children:[u(ta,{onClick:()=>e("back"),children:[o(la,{}),o("span",{className:"hidden sm:block",children:"Powrót"})]}),o(U,{className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/reservations",children:u(ta,{children:[o("span",{className:"hidden sm:block ",children:"Rezerwacje"}),o(W,{className:"text-2xl"})]})}),o(U,{className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/reservations/create",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Dodaj"}),o(f,{})]})})]})},da=()=>({open:1}),ma=({})=>{h.exports.useReducer(da,{open:1}),De((e=>e.darkmode));const e=ra((e=>e.sidebar)),a=ra((e=>e.toggleSide));return u(N,{children:[u("aside",{className:" flex flex-col fixed top-0 left-0 w-12 sm:w-48 overflow-x-hidden z-10 h-full pt-16 shadow-lg   bg-white dark:bg-slate-800 ",children:[o(U,{onClick:()=>a("map"),className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/map",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Miejsca"}),o(B,{className:"text-2xl"})]})}),o(U,{onClick:()=>a("notes"),className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/notes",children:u(ta,{children:[o("span",{className:"hidden sm:block ",children:"Notatki"}),o(M,{className:"text-2xl"})]})}),o(U,{onClick:()=>a("media"),className:({isActive:e})=>e?"bg-slate-100 dark:bg-slate-700":"",to:"/media",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Pliki"}),o(V,{className:"text-2xl"})]})}),o(U,{onClick:()=>a("rooms"),className:({isActive:e})=>e?" bg-slate-100 dark:bg-slate-700":"",to:"/rooms",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Pokoje"}),o(K,{className:"text-2xl"})]})}),o(U,{onClick:()=>a("reservations"),className:({isActive:e})=>e?" bg-slate-100 dark:bg-slate-700":"",to:"/reservations",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Rezerwacje"}),o(W,{className:"text-2xl"})]})}),o(U,{onClick:()=>a("policy"),className:({isActive:e})=>e?" bg-slate-100 dark:bg-slate-700":"",to:"/policy",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Zasady"}),o(G,{className:"text-2xl"})]})}),o(U,{onClick:()=>a("olx"),className:({isActive:e})=>e?" bg-slate-100 dark:bg-slate-700":"",to:"/olx",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Olx"}),o(Z,{className:"text-2xl"})]})}),o(U,{onClick:()=>a("facebook"),className:({isActive:e})=>e?" bg-slate-100 dark:bg-slate-700":"",to:"/facebook",children:u(ta,{children:[o("span",{className:"hidden sm:block",children:"Facebook"}),o(Y,{className:"text-2xl"})]})})]}),"notes"===e&&o(ia,{}),"map"===e&&o(na,{}),"media"===e&&o(sa,{}),"rooms"===e&&o(ca,{}),"reservations"===e&&o(oa,{})]})},ua=()=>{const e=z(),a=Ne((e=>e.setName)),t=Ne((e=>e.setEmail));return h.exports.useEffect((()=>{const r=window.localStorage.getItem("key");r&&(p.defaults.headers.common={Authorization:`Bearer ${r}`}),p.get("me").then((e=>{let r=e.data.user.name,l=e.data.user.email;a(r),t(l)})).catch((a=>{console.log("err :",a),e("/auth/login")}))}),[]),u(N,{children:[o(aa,{}),o(ma,{}),o("main",{className:"  dark:bg-slate-700 bg-slate-100  text-slate-800 dark:text-slate-100 ml-12  sm:ml-48 px-4 pt-20 min-h-screen pb-8 ",children:o("div",{className:"max-w-5xl mx-auto",children:o(X,{})})})]})},pa=({})=>(Ne((e=>e.name)),z(),h.exports.useState(!1),o("header",{children:o("nav",{className:"dark:bg-gray-800 dark:text-zinc-100 z-20 max-6xl mx-auto bg-white shadow-sm w-full h-16 fixed top-0 flax",children:u("div",{className:"brand text-2xl h-full flex  justify-between px-8   items-stretch",children:[o("div",{className:"flex items-stretch ",children:u(U,{to:"/",className:" flex items-center h-full hover:text-primary transition duration-300",children:[o(D,{}),o("div",{className:"ml-2",children:"Home"})]})}),o("div",{className:"ml-auto flex items-center uppercase ",children:o(ea,{})})]})})})),ha=()=>u(N,{children:[o(pa,{}),o("main",{className:" dark:bg-slate-700 bg-slate-100 text-slate-800 dark:text-slate-100  px-4 pt-20 min-h-screen h-full",children:o("div",{className:"max-w-5xl mx-auto",children:o(X,{})})})]}),ga=({})=>{const e=J(),{register:a,handleSubmit:t,watch:r,formState:{errors:l}}=m(),i=v((e=>p.post("/categories",e)),{onSuccess:()=>e.invalidateQueries("categories")});return o(ye,{children:u("form",{autoComplete:"off",onSubmit:t((e=>{i.mutate({name:e.name})})),className:"w-full",children:[o("label",{htmlFor:"name"}),o("input",c(s({className:"w-full dark:bg-zinc-700 ",placeholder:"utwórz kategorię notatki",type:"text"},a("name",{required:!0})),{id:"name"})),l.name&&o("span",{children:"Pole wymagane"}),o("button",{className:"bg-primary font-semibold cursor-pointer  w-full mt-2 hover:opacity-90  text-zinc-100 px-3 py-2 rounded-sm",type:"submit",children:i.isLoading?"loading":"Utwórz"})]})})},ba=({})=>{const{data:e,isError:a,isLoading:t,error:r}=y("categories",Ce),l=J(),i=v((e=>p.delete(`/categories/${e}`)));return a?o(N,{children:u(ye,{children:["Error : ",null==r?void 0:r.message]})}):t?o(N,{children:o(ye,{children:"Loading..."})}):u("div",{className:"",children:[o(ga,{}),o("div",{className:"my-2 grid gap-3 grid-cols-1 sm:grid-cols-2",children:null==e?void 0:e.map((e=>o(ye,{children:u("div",{className:"flex justify-between items-center",children:[o("span",{children:e.name}),o(ee,{className:"curso cursor-pointer h-10 w-10 p-2",onClick:()=>{var a;(a=e.id)&&confirm("Are you sure this will delete all children ? ")&&i.mutate(a,{onSuccess:()=>l.invalidateQueries("categories")})}})]})},e.id)))})]})},fa=({place:e})=>{const a=v((e=>p.delete(`/places/${e}`)),{onSuccess:()=>Re.invalidateQueries("places")});return o(S,{exitBeforeEnter:!0,children:o(b.div,{className:"relative",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.7},children:o("div",{className:"relative",children:u(ye,{children:[o("div",{onClick:()=>{confirm("Are you sure this will delete all children ? ")&&e.id&&a.mutate(e.id)},className:"text-gray-800 text-2xl  dark:text-gray-200 absolute w-8 h-8 flex-center right-2 top-2 hover:rotate-180 transition-transform duration-300 cursor-pointer ",children:o(w,{})}),u("h1",{className:"my-2",children:["PL : ",e.name]}),u("h1",{className:"my-2",children:["EN : ",e.ename]}),u("h1",{className:"my-2",children:["lat : ",e.lat]}),u("h1",{className:"my-2",children:["lon : ",e.lon]}),u("h1",{className:"my-2",children:["Kategoria : ",e.placetype]})]})},e.id)})})},xa=({})=>{const{data:e,isError:a,isLoading:t,error:r}=y("notes",Pe);return a?o(N,{children:u(ye,{children:["Error : ",null==r?void 0:r.message]})}):t?o(N,{children:o(ye,{children:"Loading..."})}):o("div",{className:"grid-cols-3 grid gap-3",children:e&&(null==e?void 0:e.map((e=>o(fa,{place:e},e.id))))})},ya=({placeType:e})=>{const[a,t]=h.exports.useState("./Rectangle.svg"),[r,l]=h.exports.useState(null);h.exports.useEffect((()=>{e.icon&&t(e.icon)}),[]);const{register:i,handleSubmit:n,watch:d,reset:g,formState:{errors:f}}=m({defaultValues:{name:e.name,ename:e.ename,icon:e.icon}}),x=J(),y=v((a=>{const t=new FormData;return t.append("name",a.name?a.name:"name"),t.append("ename",a.ename?a.ename:"ename"),r&&t.append("icon",r||"icon"),p.post(`/placetypes/${e.id}`,t,{headers:{"content-type":"multipart/form-data"}})}),{onSuccess:()=>x.invalidateQueries("placetypes")}),N=v((e=>p.delete(`/placetypes/${e}`)),{onSuccess:()=>x.invalidateQueries("placetypes")});return o(S,{exitBeforeEnter:!0,children:u(b.div,{className:"relative",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.7},children:[o("div",{onClick:()=>{confirm("Are you sure this will delete all children ? ")&&e.id&&N.mutate(e.id)},className:"text-gray-800 text-2xl  dark:text-gray-200 absolute w-8 h-8 flex-center right-2 top-2 hover:rotate-180 transition-transform duration-300 cursor-pointer ",children:o(w,{})}),u(ye,{children:[o("h4",{className:"font-bold",children:"Edytuj :"}),u("form",{className:"flex flex-col",onSubmit:n((e=>{confirm("Na pewno edytować ?")&&y.mutate({name:e.name,ename:e.ename})})),children:[f.name&&o(Ve,{children:"polish name required"}),o("input",c(s({type:"text"},i("name",{required:!0})),{className:"w-full mt-4 rounded-sm dark:bg-zinc-700"})),o("label",{htmlFor:"name",children:"nazwa polska"}),f.ename&&o(Ve,{children:"english name required"}),o("input",c(s({type:"text"},i("ename",{required:!0})),{className:"w-full mt-4 rounded-sm dark:bg-zinc-700"})),o("label",{htmlFor:"name",children:"nazwa angielska"}),u("label",{className:"icon-image bg-cyan-500 font-semibold cursor-pointer self-center my-3  mt-2 hover:bg-cyan-600 text-zinc-100  rounded-lg",children:[o("img",{className:" w-32 h-32 mx-auto rounded-sm dark:bg-slate-700 bg-slate-100",src:a}),o("input",c(s({type:"file"},i("icon",{required:!1})),{onChange:e=>{const a=URL.createObjectURL(e.target.files[0]);l(e.target.files[0]),t(a)},className:"hidden",name:"image"}))]}),o("button",{type:"submit",className:"bg-primary font-semibold cursor-pointer    mt-2 hover:opacity-90 text-zinc-100 px-3 py-2 rounded-sm",children:"Edit"})]})]})]},e.id)})},va=({})=>{const[e,a]=h.exports.useState(null),[t,r]=h.exports.useState("./Rectangle.svg"),{register:l,handleSubmit:i,watch:n,reset:d,formState:{errors:g}}=m(),b=J(),{data:f,isError:x,isLoading:N,error:w}=y("placetypes",Se),k=v((a=>{const t=new FormData;return t.append("name",a.name?a.name:"name"),t.append("ename",a.ename?a.ename:"name"),t.append("icon",e||"name"),p.post("/placetypes",t,{headers:{"content-type":"multipart/form-data"}})}),{onSuccess:()=>b.invalidateQueries("placetypes")});return x?o(ye,{children:null==w?void 0:w.message}):u("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 \t",children:[u(ye,{children:[o("h4",{className:"font-bold",children:"Utwórz nowe :"}),u("form",{onSubmit:i((e=>{k.mutate({name:e.name,ename:e.ename,icon:e.icon[0]}),d(),r("./Rectangle.svg")})),className:"flex flex-col",children:[o("input",s({autoComplete:"off",className:"w-full mt-4 rounded-sm dark:bg-zinc-700",type:"text"},l("name",{required:!0}))),o("label",{htmlFor:"name",children:"Polska nazwa"}),g.name&&o(Ve,{children:"Polska nazwa wymagana required"}),o("input",s({autoComplete:"off",className:"w-full mt-4 rounded-sm dark:bg-zinc-700",type:"text"},l("ename",{required:!0}))),o("label",{htmlFor:"name",children:"Angielska nazwa"}),g.ename&&o(Ve,{children:"Angielska nazwa wymagana"}),u("label",{className:"icon-image bg-cyan-500 font-semibold cursor-pointer self-center my-3  mt-2 hover:bg-cyan-600 text-zinc-100  rounded-lg",children:[o("img",{className:" w-32 h-32 mx-auto rounded-sm dark:bg-slate-700 bg-slate-100",src:t}),o("input",c(s({type:"file"},l("icon",{required:!0})),{onChange:e=>{const t=URL.createObjectURL(e.target.files[0]);a(e.target.files[0]),r(t)},className:"hidden",name:"image"}))]}),g.icon&&o(Ve,{children:"icon is required"}),o("button",{type:"submit",className:"bg-primary font-semibold cursor-pointer   mt-2 hover:opacity-90 text-zinc-100 px-3 py-2 rounded-sm",children:"Utwórz"})]})]}),N&&o(ye,{children:o(Oe,{})}),f&&f.map((e=>o(ya,{placeType:e},e.id)))]})},Na=d((e=>({lat:51.759445,lon:19.457216,placeChoiceId:0,changeCoordinates:(a,t)=>e({lat:a,lon:t}),changePlaceChoiceId:a=>e({placeChoiceId:a})}))),wa=({place:e})=>{const a=Na((e=>e.changePlaceChoiceId)),t=Na((e=>e.changeCoordinates)),r=Na((e=>e.placeChoiceId));return o(b.div,{className:" transition-colors duration-300 border-4   cursor-pointer "+(e.place_id===r?"border-primary":"border-white dark:border-slate-800"),whileTap:{scale:.9},onClick:()=>{e.place_id&&e.lat&&e.lon&&(a(e.place_id),t(parseFloat(e.lat.slice(0,10)),parseFloat(e.lon.slice(0,10))))},children:o(ye,{children:o("h4",{className:" dark:text-zinc-100 text-zinc-800 leading-6",children:e.display_name})})})},ka=({})=>{Na((e=>e.changeCoordinates));const e=J(),[a,t]=h.exports.useState(null),{reset:r,register:l,handleSubmit:i,watch:n,formState:{errors:d}}=m(),g=v((e=>p.post("/search",e)),{onSuccess:a=>{console.log("data :",a.data);const r=a.data.map((e=>({place_id:e.place_id,lat:e.lat,lon:e.lon,display_name:e.display_name,type:e.type})));t(r),e.invalidateQueries("categories")}});return u("section",{className:"my-2",children:[o(ye,{children:u("form",{onSubmit:i((e=>{g.mutate({search:e.search})})),children:[o("input",c(s({autoComplete:"off",type:"text"},l("search",{required:!0,min:4,minLength:4})),{className:" mx-auto w-full  mt-4 mb-4 rounded-sm dark:bg-zinc-700"})),d.search&&o("span",{className:"text-primary",children:"Field is required . Min Length 4 characters"}),o("input",{type:"submit",value:"Search",className:"bg-primary font-semibold cursor-pointer w-full   mt-4 hover:opacity-90 mb-4  text-zinc-100 px-3 py-2 rounded-sm"})]})}),o("div",{className:"grid grid-cols-1  sm:grid-cols-2 md:grid-cols-3 gap-3 my-2 ",onClick:()=>{},children:a&&a.map((e=>o(wa,{place:e},e.place_id)))})]})},za=({})=>{const e=z(),a=Na((e=>e.lat)),t=Na((e=>e.lon)),{data:r}=y("placetypes",Se),l=Na((e=>e.changeCoordinates));h.exports.useEffect((()=>{l(51.759445,19.457216)}),[]),h.exports.useEffect((()=>{b("lat",a),b("lon",t),b("placetype_id",0)}),[a,t]);const{reset:i,register:n,handleSubmit:d,watch:g,setValue:b,formState:{errors:f}}=m({defaultValues:{lat:a,lon:t}}),x=v((e=>p.post("/places",e)),{onSuccess:()=>{Re.invalidateQueries("places"),e("/map")}});return u(N,{children:[o(ye,{children:o("div",{className:" w-full z-10 cursor-pointer",children:u(ae,{className:"h-96 z-10",center:[a,t],zoom:13,children:[o(_a,{lat:a,lon:t,zoom:13}),o(te,{attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o(re,{position:[a,t],children:o(le,{children:"New Place"})})]})})}),o(ka,{}),o("div",{className:"py-4",children:o(ye,{children:u("form",{onSubmit:d((e=>{confirm("Create ?")&&(console.log("data created :",e),e.name&&e.ename&&e.lat&&e.lon&&e.placetype_id&&x.mutate({name:e.name,ename:e.ename,lat:e.lat,lon:e.lon,placetype_id:e.placetype_id}))})),className:"flex flex-col max-w-sm mx-auto",children:[o("label",{htmlFor:"name",children:"Polish Name"}),o("input",s({autoComplete:"off",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700",type:"text"},n("name",{required:!0,minLength:4}))),f.name&&o("p",{className:" w-full  text-red-800 ",children:"Create name min 4 characters"}),o("label",{className:"mt-2",htmlFor:"name",children:"English Name"}),o("input",s({autoComplete:"off",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700",type:"text"},n("ename",{required:!0,minLength:4}))),f.ename&&o("p",{className:" w-full  text-red-800 ",children:"Create name min 4 characters"}),o("label",{className:"mt-2",htmlFor:"lat",children:"Latitude"}),o("input",s({step:1e-7,autoComplete:"off",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700",type:"number"},n("lat",{required:!0}))),f.lat&&o("p",{className:" w-full  text-red-800 ",children:"Add latitude"}),o("label",{className:"mt-2",htmlFor:"lon",children:"Longitude"}),o("input",s({step:1e-7,autoComplete:"off",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700",type:"number"},n("lon",{required:!0}))),f.lon&&o("p",{className:" w-full  text-red-800 ",children:"Add longitude"}),o("label",{className:"mt-2",htmlFor:"placetype_id",children:"Place Type"}),o("select",c(s({className:"dark:bg-zinc-700 my-2  w-full"},n("placetype_id",{required:!0})),{children:r&&(null==r?void 0:r.map((e=>o("option",{value:e.id,children:e.name},e.id))))})),f.placetype_id&&o("p",{className:" w-full  text-red-800 ",children:"Choose place Type"}),o("input",{type:"submit",value:"Create",className:"bg-primary font-semibold cursor-pointer w-full   mt-4 hover:opacity-90 mb-4  text-zinc-100 px-3 py-2 rounded-sm"})]})})})]})},_a=({lat:e,lon:a,zoom:t})=>(ie().setView([e,a],t),null),Ca=d((e=>({fresh:!0,refresh:()=>e((e=>({fresh:!e.fresh})))}))),Sa=({room:e,index:a})=>{const t=Ca((e=>e.refresh));return v((e=>p.delete(`/rooms/${e}`)),{onSuccess:()=>{Re.invalidateQueries("rooms"),t()}}),o(S,{children:o(b.div,{whileHover:{scale:.95},initial:{opacity:0,scale:.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.1},transition:{delay:a/10},className:"cursor-pointer relative",children:o(ye,{className:"relative pt-10",children:u(g,{to:`/rooms/${e.id}`,children:[o("img",{className:" aspect-video",src:e.thumbnail,alt:""}),o("h2",{className:"text-lg text-slate-800 dark:text-slate-200 mt-2",children:e.name})]})})},e.id)})},Pa=({})=>{Ca((e=>e.fresh));const e=ne([{queryKey:["locations"],queryFn:je},{queryKey:["rooms"],queryFn:Fe}]),a=e[0],t=e[1],[r,l]=h.exports.useState([]);return t.isError?o(N,{children:u(ye,{children:["Error : ",t.error]})}):t.isLoading?o(N,{children:o(ye,{children:o(Oe,{})})}):u(N,{children:[u("select",{onChange:e=>(e=>{let a=parseInt(e.target.value);const i=t.data;if(0===a)l(i);else{let e=i.filter((e=>e.location_id===a));console.log("newArr :",e),l(e)}console.log("rooms :",r)})(e),className:"dark:bg-zinc-700 my-2  w-full mb-8",children:[o("option",{children:"----"}),o("option",{value:0,children:"Wszystkie Lokalizacje"}),a&&(null==a?void 0:a.data.map((e=>o("option",{value:e.id,children:e.name},e.id))))]}),o("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:r&&(null==r?void 0:r.map(((e,a)=>o(Sa,{room:e,index:a},e.id))))})]})},ja=({})=>{const{data:e,isError:a,isLoading:t,error:r}=y("locations",je);return a?o(N,{children:u(ye,{children:["Error : ",null==r?void 0:r.message]})}):t?o(N,{children:o(ye,{children:"Loading..."})}):u("section",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 ",children:[o(g,{to:"/locations/create",children:o(b.div,{className:"cursor-pointer flex-cemter h-full  w-full",whileHover:{scale:.95},whileTap:{scale:.95},children:o(ye,{children:o("div",{className:" cursor-pointer box h-full  mx-auto p-8 flex-center",children:o(se,{className:"text-4xl"})})})})}),e&&(null==e?void 0:e.map((e=>o(g,{to:`/locations/${e.id}`,children:o(b.div,{whileHover:{scale:.95},className:"cursor-pointer",children:u(ye,{children:[o("img",{className:" aspect-video",src:e.thumbnail,alt:""}),o("h2",{className:"text-lg text-slate-800 dark:text-slate-200 mt-2",children:e.name})]})})},e.id))))]})},Ea=({})=>{const e=Na((e=>e.lat)),a=Na((e=>e.lon)),[t,r]=h.exports.useState("./Rectangle.svg"),[l,i]=h.exports.useState(null),n=Na((e=>e.changeCoordinates)),d=O(),g=z();if(!d.id)return o(ye,{children:"Error no data"});const{reset:b,register:f,handleSubmit:x,watch:N,setValue:k,formState:{errors:_}}=m({defaultValues:{lat:e,lon:a}}),C=parseInt(d.id),{data:S,isError:P,isLoading:j,error:E}=y(["location",C],(()=>async function(e){const{data:a}=await p.get(`/locations/${e}`);return a.data}(C)));h.exports.useEffect((()=>{(null==S?void 0:S.lat)&&S.lon&&(n(null==S?void 0:S.lat,null==S?void 0:S.lon),k("lat",e),k("lon",a),k("name",S.name),k("ename",S.ename),k("thumbnail",S.thumbnail),S.thumbnail&&r(S.thumbnail))}),[S]);const F=v((e=>{const a=new FormData;return a.append("name",e.name?e.name:"name"),a.append("ename",e.ename?e.ename:"ename"),l&&a.append("thumbnail",l||"thumbnail"),p.post(`/locations/${null==S?void 0:S.id}`,a,{headers:{"content-type":"multipart/form-data"}})}),{onSuccess:()=>{Re.invalidateQueries("locations"),g("/locations")}}),q=v((e=>p.delete(`/locations/${e}`)),{onSuccess:()=>{Re.invalidateQueries("location"),g("/locations")}});return u("div",{children:[u(ye,{children:[o("div",{className:"relative pr-4 pt-8",children:o("div",{onClick:()=>{confirm("Czy jesteś absolutnie pewien / pewna ? Ta akcja skasuje wszystkie pokoje należące do tej lokalizacji ")&&q.mutate(C)},className:"text-gray-800 text-2xl  dark:text-gray-200  w-8  h-8 flex-center top-0 right-0 hover:rotate-180 absolute transition-transform duration-300 cursor-pointer  trn -translate-y-2",children:o(w,{})})}),o("div",{className:" w-full z-10 cursor-pointer",children:u(ae,{className:"h-96 z-10",center:[e,a],zoom:13,children:[o(Fa,{lat:e,lon:a,zoom:13}),o(te,{attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o(re,{position:[e,a],children:o(le,{children:"New Place"})})]})})]}),o(ka,{}),o("div",{className:"py-4 ",children:o(ye,{children:u("form",{onSubmit:x((e=>{console.log("data :",e),F.mutate(e)})),className:"flex flex-col max-w-sm mx-auto",children:[u("label",{className:"icon-image bg-cyan-500 font-semibold cursor-pointer self-center my-3  mt-2 hover:bg-cyan-600 text-zinc-100  rounded-lg",children:[o("img",{className:" w-96 aspect-video  object-cover mx-auto rounded-sm dark:bg-slate-700 bg-slate-100",src:t}),o("input",c(s({type:"file"},f("thumbnail",{required:!1})),{onChange:e=>{const a=URL.createObjectURL(e.target.files[0]);i(e.target.files[0]),r(a)},className:"hidden",name:"image"}))]}),_.thumbnail&&o("div",{className:" w-full  text-center text-red-800",children:"thumbnail is required"}),o("label",{htmlFor:"name",children:"Polish Name"}),o("input",s({autoComplete:"off",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700",type:"text"},f("name",{required:!0,minLength:4}))),_.name&&o("p",{className:" w-full  text-red-800 ",children:"Create name min 4 characters"}),o("label",{className:"mt-2",htmlFor:"name",children:"English Name"}),o("input",s({autoComplete:"off",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700",type:"text"},f("ename",{required:!0,minLength:4}))),_.ename&&o("p",{className:" w-full  text-red-800 ",children:"Create name min 4 characters"}),o("label",{className:"mt-2",htmlFor:"lat",children:"Latitude"}),o("input",s({step:1e-7,autoComplete:"off",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700",type:"number"},f("lat",{required:!0}))),_.lat&&o("p",{className:" w-full  text-red-800 ",children:"Add latitude"}),o("label",{className:"mt-2",htmlFor:"lon",children:"Longitude"}),o("input",s({step:1e-7,autoComplete:"off",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700",type:"number"},f("lon",{required:!0}))),_.lon&&o("p",{className:" w-full  text-red-800 ",children:"Add longitude"}),o("input",{type:"submit",value:"Create",className:"bg-primary font-semibold cursor-pointer w-full   mt-4 hover:opacity-90 mb-4  text-zinc-100 px-3 py-2 rounded-sm"})]})})})]})},Fa=({lat:e,lon:a,zoom:t})=>(ie().setView([e,a],t),null),qa=d((e=>({room_id:"1",title:"",price:"",availability:"",changeSonData:(a,t,r,l)=>e({room_id:a,title:t,price:r,availability:l})}))),La=({editor:e})=>e?u("div",{className:" flex justify-between flex-wrap",children:[o("div",{onClick:()=>e.chain().focus().toggleBold().run(),className:(e.isActive("bold")?"text-primary":"")+" xx",children:o(F,{})}),o("div",{onClick:()=>e.chain().focus().toggleItalic().run(),className:(e.isActive("italic")?"text-primary":"")+" cursor-pointer",children:o(q,{className:"text-md"})}),o("div",{onClick:()=>e.chain().focus().toggleStrike().run(),className:e.isActive("strike")?"text-primary":"",children:o(L,{})}),o("div",{onClick:()=>e.chain().focus().setParagraph().run(),className:e.isActive("paragraph")?"text-primary":"",children:"p"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:1}).run(),className:e.isActive("heading",{level:1})?"text-primary":"",children:"h1"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),className:e.isActive("heading",{level:2})?"text-primary":"",children:"h2"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:3}).run(),className:e.isActive("heading",{level:3})?"text-primary":"",children:"h3"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:4}).run(),className:e.isActive("heading",{level:4})?"text-primary":"",children:"h4"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:5}).run(),className:e.isActive("heading",{level:5})?"text-primary":"",children:"h5"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:6}).run(),className:e.isActive("heading",{level:6})?"text-primary":"",children:"h6"}),o("div",{onClick:()=>e.chain().focus().toggleBulletList().run(),className:e.isActive("bulletList")?"text-primary":"",children:o(A,{})}),o("div",{onClick:()=>e.chain().focus().setHorizontalRule().run(),children:"hr"}),o("div",{onClick:()=>e.chain().focus().setHardBreak().run(),children:"br"}),o("div",{onClick:()=>e.chain().focus().undo().run(),children:o(R,{})}),o("div",{onClick:()=>e.chain().focus().redo().run(),children:o(I,{})})]}):null,Aa=h.exports.forwardRef((({dataprop:e},a)=>{ve((e=>e.aboutPl)),ve((e=>e.aboutEn));const t=ve((e=>e.changeAboutEn));h.exports.useEffect((()=>{null==r||r.commands.clearContent(),null==r||r.commands.insertContent(e)}),[e]),h.exports.useImperativeHandle(a,(()=>({uploadEditor:()=>{const e=null==r?void 0:r.getHTML();e&&t(e)},clean:()=>{}})));const r=P({extensions:[j],content:e});return null==r||r.getHTML(),u("div",{className:"",children:[o(La,{editor:r}),o(E,{editor:r})]})})),Ha=h.exports.forwardRef((({dataprop:e},a)=>{ve((e=>e.aboutPl));const t=ve((e=>e.changeAboutPl));h.exports.useState(""),h.exports.useEffect((()=>{null==r||r.commands.clearContent()}),[]),h.exports.useEffect((()=>{null==r||r.commands.clearContent(),null==r||r.commands.insertContent(e)}),[e]),h.exports.useImperativeHandle(a,(()=>({uploadEditor:()=>{const e=null==r?void 0:r.getHTML();e&&t(e)},clean:()=>{}})));const r=P({extensions:[j],content:e});return null==r||r.getHTML(),u("div",{className:"",children:[o(La,{editor:r}),o(E,{editor:r})]})})),Ra=d((e=>({formPart:0,setFormPart:a=>e({formPart:a})}))),Ia=({children:e,onClick:a,active:t})=>{const r=Ra((e=>e.formPart));return u("button",{onClick:a,className:` ${t===r} border-b-2 border-separate border-slate-200 dark:border-slate-600 transition-transform duration-150 hover:scale-105 w-full relative text-gray-800  dark:text-gray-200 uppercase flex items-center justify-center sm:justify-between sm:pr-3 leading-8 p-2 font-medium dark:hover:bg-slate-700 hover:bg-slate-100`,children:[e,o(f,{})]})},Oa=({})=>{const e=Ra((e=>e.setFormPart));return u("div",{className:"flex flex-col fixed top-0 left-0 w-12 sm:w-48 overflow-x-hidden z-10 h-full pt-16 shadow-lg bg-white dark:bg-slate-800",children:[o(Ia,{active:0,onClick:()=>e(0),children:o("span",{className:"hidden sm:block",children:"Ogólne"})}),o(Ia,{active:1,onClick:()=>e(1),children:o("span",{className:"hidden sm:block",children:"Ceny"})}),o(Ia,{active:2,onClick:()=>e(2),children:o("span",{className:"hidden sm:block",children:"Opis"})}),o(Ia,{active:3,onClick:()=>e(3),children:o("span",{className:"hidden sm:block",children:"Wyposażenie"})})]})},$a=({})=>{const[e,a]=h.exports.useState();h.exports.useEffect((()=>{p.get("/prices/1").then((e=>{console.log("data :",e.data.data),a(e.data.data)}))}),[]);const t=Ra((e=>e.formPart)),[r,l]=h.exports.useState("pl"),i=z(),[n,d]=h.exports.useState("./Rectangle.svg"),[f,x]=h.exports.useState(null),y=ne([{queryKey:["locations"],queryFn:je},{queryKey:["roomtypes"],queryFn:qe},{queryKey:["districts"],queryFn:Ee}]),w=h.exports.useRef(null),k=h.exports.useRef(null),[_,C]=h.exports.useState(""),[S,P]=h.exports.useState(""),j=y[2].data,E=y[1].data,F=y[0].data,q=qa((e=>e.title)),L=qa((e=>e.price)),A=qa((e=>e.availability)),H=qa((e=>e.room_id)),R=ve((e=>e.aboutPl)),I=ve((e=>e.aboutEn)),O=ve((e=>e.changeAboutPl)),$=ve((e=>e.changeAboutEn)),U=h.exports.useRef(null),[D,Q]=h.exports.useState(null),[M,T]=h.exports.useState(!1),[B,V]=h.exports.useState(null);h.exports.useEffect((()=>{O(""),$("")}),[]),h.exports.useEffect((()=>{X("name",q),X("ename",q),""!==L&&X("price",parseInt(L)),X("availability",A)}),[q]),h.exports.useEffect((()=>{var e,a,t,r;B&&(null==(e=U.current)?void 0:e.value)&&(null==(a=w.current)||a.clean(),U.current.value=null==B?void 0:B.name,C(B.about),P(B.eabout),O(B.about),$(B.eabout),null==(t=w.current)||t.uploadEditor(),null==(r=k.current)||r.uploadEditor(),X("roomtype_id",B.roomtype_id),X("info",B.info),X("einfo",B.einfo),X("internet",B.internet),X("tv",B.tv),X("washing_machine",B.washing_machine),X("dryer",B.dryer),X("parking",B.parking),X("elevator",B.elevator),X("oven",B.oven),X("equipped_kitchen",B.equipped_kitchen),X("locales",B.locales),X("beds",B.beds),X("guests",B.guests),X("bathrooms",B.bathrooms),X("b_costs",B.b_costs),X("b_deposit",B.b_deposit),X("b_electricity",B.b_electricity),X("b_gas",B.b_gas),X("b_internet",B.b_internet),X("b_taxes",B.b_taxes),X("b_water",B.b_water),X("price_2",B.price_2),X("price_3",B.price_3),X("price_4",B.price_4))}),[B]);const K=ce((()=>{var e,a;(null==(e=U.current)?void 0:e.value)&&p.get(`/rooms/search/${null==(a=U.current)?void 0:a.value}`).then((e=>Q(e.data))).catch((e=>console.log("error :",e)))}),300),{reset:W,register:G,handleSubmit:Z,watch:Y,setValue:X,formState:{errors:J}}=m(),ee=v((e=>{const a=new FormData;return console.log("newData :",e),console.log("son_id :",H),a.append("thumbnail",f||"thumbnail"),a.append("son_id",H.toString()),a.append("location_id",e.location_id.toString()),a.append("roomtype_id",e.roomtype_id.toString()),a.append("district_id",e.district_id.toString()),a.append("name",e.name),a.append("ename",e.ename),a.append("price",e.price.toString()),a.append("availability",e.availability),a.append("internet",e.internet?"true":"false"),a.append("tv",e.tv?"true":"false"),a.append("washing_machine",e.washing_machine?"true":"false"),a.append("dryer",e.dryer?"true":"false"),a.append("parking",e.parking?"true":"false"),a.append("elevator",e.elevator?"true":"false"),a.append("oven",e.oven?"true":"false"),a.append("equipped_kitchen",e.equipped_kitchen?"true":"false"),a.append("locales",e.locales.toString()),a.append("beds",e.beds.toString()),a.append("guests",e.guests.toString()),a.append("bathrooms",e.bathrooms.toString()),a.append("about",R),a.append("eabout",I),a.append("info",e.info),a.append("einfo",e.einfo),a.append("b_internet",e.b_internet?"true":"false"),a.append("b_water",e.b_water?"true":"false"),a.append("b_electricity",e.b_electricity?"true":"false"),a.append("b_gas",e.b_gas?"true":"false"),a.append("b_taxes",e.b_taxes?"true":"false"),a.append("b_costs",e.b_costs.toString()),a.append("b_deposit",e.b_deposit.toString()),a.append("price_2",e.price_2.toString()),a.append("price_3",e.price_3.toString()),a.append("price_4",e.price_4.toString()),console.log("formData :",a),p.post("/rooms",a,{headers:{"content-type":"multipart/form-data"}})}),{onSuccess:()=>{Re.invalidateQueries("rooms"),W(),i("/rooms")},onError:e=>{console.log("error :",e)}});return u(N,{children:[o(Oa,{}),0===t&&o(ye,{children:o(g,{to:"/son",children:o(b.button,{whileHover:{scaleY:.97},className:"w-full  font-semibold cursor-pointer  bg-primary hover:opacity-9 text-zinc-100 px-3 py-2 rounded-sm",children:"Uzupełnij dane z Pepehousing"})})}),u("form",{onSubmit:Z((e=>{var a,t;null==(a=w.current)||a.uploadEditor(),null==(t=k.current)||t.uploadEditor(),console.log("data :",e),ee.mutate(e)})),children:[o("div",{className:"h-4"}),u("div",{className:"max-w-2xl mx-auto",children:[0===t&&u(N,{children:[u(ye,{children:[u("label",{htmlFor:"name",children:["Polska nazwa",o("input",c(s({},G("name",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),J.name&&o(Ve,{children:"Pole wymagene"})]}),o("label",{htmlFor:"ename",children:"Angielska Nazwa"}),o("input",c(s({},G("ename",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),J.ename&&o(Ve,{children:"Pole wymagene"}),o("label",{htmlFor:"availability",children:"Dostępność"}),o("input",c(s({},G("availability",{required:!0})),{type:"date",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),J.availability&&o(Ve,{children:"Pole wymagene"})]}),o("div",{className:"h-4"})]}),0===t&&u(N,{children:[o("div",{className:"h-4"}),u(ye,{children:[o("h1",{className:"pb-8  pt-4 pl-3 text-2xl font font-medium",children:"Uzupełnij dane z : "}),u("label",{htmlFor:"search",className:"relative",children:["Szukaj pokoju :",o("input",{onFocus:()=>T(!0),onBlur:()=>{setTimeout((()=>T(!1)),200)},type:"text",name:"search",ref:U,onChange:K,autoComplete:"off",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"}),o("ul",{className:"absolute z-40 w-full  list-none shadow-lg left-0 bg-slate-100 dark:bg-slate-600",children:M&&(null==D?void 0:D.map(((e,a)=>o("li",{onClick:()=>V(e),className:"p-3 hover:bg-slate-200 dark:hover:bg-slate-500 transition-colors duration-100 cursor-pointer ",children:e.name},a))))})]})]}),o("div",{className:"h-4"}),o("div",{className:"h-4"}),o("div",{className:"flex flex-col max-w-sm mx-auto",children:u("label",{className:"icon-image bg-cyan-500 font-semibold cursor-pointer self-center my-3  mt-2 hover:bg-cyan-600 text-zinc-100  rounded-lg",children:[o("img",{className:" w-96 aspect-video  object-cover mx-auto rounded-sm dark:bg-slate-700 bg-slate-100",src:n}),o("input",c(s({type:"file"},G("thumbnail")),{onChange:e=>{const a=URL.createObjectURL(e.target.files[0]);x(e.target.files[0]),d(a)},className:"hidden",name:"image"}))]})}),o("div",{className:"h-4"}),u(ye,{children:[o("label",{htmlFor:"location_id",children:"Lokalizacja"}),o("select",c(s({className:"dark:bg-zinc-700 my-2  w-full"},G("location_id",{required:!0})),{children:F&&(null==F?void 0:F.map((e=>o("option",{value:e.id,children:e.name},e.id))))})),J.location_id&&o(Ve,{children:"Pole wymagene"})]}),o("div",{className:"h-4"}),u(ye,{children:[o("label",{htmlFor:"location_id",children:"Osiedle"}),o("select",c(s({className:"dark:bg-zinc-700 my-2  w-full"},G("district_id",{required:!0})),{children:j&&(null==j?void 0:j.map((e=>o("option",{value:e.id,children:e.name},e.id))))})),J.district_id&&o(Ve,{children:"Pole wymagene"})]}),0===t&&u(N,{children:[u(ye,{children:[o("label",{htmlFor:"roomtype_id",children:"Typ pokoju"}),o("select",c(s({className:"dark:bg-zinc-700 my-2  w-full"},G("roomtype_id",{required:!0})),{children:E&&(null==E?void 0:E.map((e=>o("option",{value:e.id,children:e.name},e.id))))})),J.roomtype_id&&o(Ve,{children:"Pole wymagene"})]}),o("div",{className:"h-4"})]})]}),u(N,{children:[u(ye,{className:2===t?"":"hidden",children:[o("h1",{className:"pb-8  pt-4 pl-3 text-2xl font font-medium",children:"Opis pokoju : "}),u("div",{className:"grid grid-cols-2 py-3 gap-3",children:[o("div",{onClick:()=>l("pl"),className:("pl"===r?"dark:bg-slate-700 bg-slate-100":"")+" py-3 text-center cursor-pointer transition-colors duration-300 rounded-full",children:"Polski"}),o("div",{onClick:()=>l("en"),className:("en"===r?"dark:bg-slate-700 bg-slate-100":"")+" py-3 text-center cursor-pointer transition-colors duration-300 rounded-full",children:"Angielski"})]}),u("div",{children:[o("div",{className:""+("pl"===r?"visible":"invisible hidden"),children:o(Ha,{dataprop:_,ref:w})}),o("div",{className:""+("en"===r?"visible":"invisible hidden"),children:o(Aa,{dataprop:S,ref:k})})]})]}),o("div",{className:"h-4"})]}),3===t&&u(N,{children:[u(ye,{children:[o("h1",{className:"pb-8  pt-4 pl-3 text-2xl font font-medium",children:"Wyposażenie"}),u("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:[u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},G("internet")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"Internet"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},G("tv")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"tv"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},G("washing_machine")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"Pralka"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},G("dryer")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"suszarka"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},G("parking")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"parking"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},G("elevator")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"winda"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},G("oven")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"kuchenka"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary "},G("equipped_kitchen")),{type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"wyposażona kuchnia"})]})]})]}),o("div",{className:"h-4"})]}),1===t&&u(N,{children:[u(ye,{className:"py-12",children:[o("h1",{className:"pb-8   pl-3 text-2xl font font-medium",children:"Ceny"}),u("div",{className:"grid grid-cols-1 max-w-md mx-auto sm:grid-cols-1 gap-3 sm:gap-8 px-3",children:[u("label",{htmlFor:"price",children:["Cena podstawowa",o("input",c(s({},G("price",{required:!0})),{type:"number",className:"mx-auto w-full   mt-2 rounded-sm dark:bg-zinc-700"})),J.price&&o(Ve,{children:"Pole wymagene"})]}),u("label",{htmlFor:"rooms",children:["Cena od ",null==e?void 0:e.a1," do ",null==e?void 0:e.a2," miesięcy",o("input",c(s({type:"number"},G("price_2",{required:!0})),{className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),J.price_2&&o(Ve,{children:"Pole wymagene"})]}),u("label",{htmlFor:"price",children:["Cena od ",null==e?void 0:e.b1," do ",null==e?void 0:e.b2," miesięcy",o("input",c(s({type:"number"},G("price_3",{required:!0})),{className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),J.price_3&&o(Ve,{children:"Pole wymagene"})]}),u("label",{htmlFor:"price",children:["Cena od ",null==e?void 0:e.c1," do ",null==e?void 0:e.c2," miesięcy",o("input",c(s({},G("price_4",{required:!0})),{type:"number",className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),J.price_4&&o(Ve,{children:"Pole wymagene"})]})]})]}),o("div",{className:"h-4"}),u(ye,{children:[o("h1",{className:"pb-8  pt-4 pl-3 text-2xl font font-medium",children:"Dodatkowe koszty"}),u("div",{className:"grid grid-cols-1 max-w-md mx-auto sm:grid-cols-1 gap-3 sm:gap-8 px-3 pb-4",children:[u("label",{htmlFor:"rooms",children:["Miesięczne rachunki na osobę",o("input",c(s({},G("b_costs",{required:!0})),{type:"number",className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),J.b_costs&&o(Ve,{children:"Pole wymagene"})]}),u("label",{htmlFor:"price",children:["Depozyt",o("input",c(s({},G("b_deposit",{required:!0})),{type:"number",className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),J.b_deposit&&o(Ve,{children:"Pole wymagene"})]})]})]}),o("div",{className:"h-4"})]}),3===t&&u(N,{children:[u(ye,{children:[o("h1",{className:"pb-8  pt-4 pl-3 text-2xl font font-medium",children:"Info"}),u("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-8 px-3 pb-4",children:[u("label",{htmlFor:"rooms",children:["Pokoje",o("input",c(s({},G("locales",{required:!0})),{type:"number",className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),J.locales&&o(Ve,{children:"Pole wymagene"})]}),u("label",{htmlFor:"price",children:["Łóżka",o("input",c(s({},G("beds",{required:!0})),{type:"number",className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),J.beds&&o(Ve,{children:"Pole wymagene"})]}),u("label",{htmlFor:"price",children:["Goście",o("input",c(s({},G("guests",{required:!0})),{type:"number",className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),J.guests&&o(Ve,{children:"Pole wymagene"})]}),u("label",{htmlFor:"price",children:["Łazienki",o("input",c(s({},G("bathrooms",{required:!0})),{type:"number",className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),J.bathrooms&&o(Ve,{children:"Pole wymagene"})]})]})]}),o("div",{className:"h-4"})]}),1===t&&u(N,{children:[u(ye,{children:[o("h1",{className:"pb-8  pt-4 pl-3 text-2xl font font-medium",children:"Rachunki"}),u("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:[u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},G("b_internet")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"Internet"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},G("b_water")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"Woda"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},G("b_electricity")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"Elektyczność"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},G("b_gas")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"Gaz"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},G("b_taxes")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"Podatki"})]})]})]}),o("div",{className:"h-4"})]}),2===t&&u(N,{children:[u(ye,{children:[o("h1",{className:"pb-8  pt-4 pl-3 text-2xl font font-medium",children:"Opis skrócony"}),u(oe.Group,{children:[u(oe.List,{className:"grid grid-cols-2 py-3",children:[o(oe,{as:"div",children:({selected:e})=>o("div",{className:(e?"dark:bg-slate-700 bg-slate-100":"")+" py-3 text-center cursor-pointer transition-colors duration-300 rounded-full",children:"Polski"})}),o(oe,{as:"div",children:({selected:e})=>o("div",{className:(e?"dark:bg-slate-700 bg-slate-100":"")+" py-3 text-center cursor-pointer transition-colors duration-300 rounded-full",children:"Angielski"})})]}),u(oe.Panels,{children:[o(oe.Panel,{children:o("textarea",c(s({className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"},G("einfo")),{cols:30,rows:10}))}),o(oe.Panel,{children:o("textarea",c(s({className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"},G("info")),{cols:30,rows:10}))})]})]})]}),o("div",{className:"h-4"})]}),o(ye,{children:o("button",{type:"submit",className:"w-full hover:opacity-90  font-semibold cursor-pointer rounded-full  bg-primary hover:opacity-9 text-zinc-100 px-3 py-2 rounded-sm",children:"Utwórz"})}),o("div",{className:"h-4"})]})]})]})},Ua=({})=>{const e=Ra((e=>e.formPart)),a=O();if(!a.id)return o(ye,{children:"Error no data"});const t=parseInt(a.id),{data:r,isError:l,isLoading:i,error:n}=y(["room",t],(()=>async function(e){const{data:a}=await p.get(`/rooms/${e}`);return a}(t))),[d,f]=h.exports.useState(null);h.exports.useEffect((()=>{r&&f(r)}),[r]);const[x,k]=h.exports.useState("pl"),_=z(),[C,S]=h.exports.useState("./Rectangle.svg"),[P,j]=h.exports.useState(null),E=ne([{queryKey:["locations"],queryFn:je},{queryKey:["roomtypes"],queryFn:qe},{queryKey:["districts"],queryFn:Ee}]),F=h.exports.useRef(null),q=h.exports.useRef(null),[L,A]=h.exports.useState(""),[H,R]=h.exports.useState(""),I=E[2].data,$=E[1].data,U=E[0].data;qa((e=>e.title)),qa((e=>e.price)),qa((e=>e.availability));const D=qa((e=>e.room_id)),Q=ve((e=>e.aboutPl)),M=ve((e=>e.aboutEn)),T=ve((e=>e.changeAboutPl)),B=ve((e=>e.changeAboutEn)),V=h.exports.useRef(null),[K,W]=h.exports.useState(null),[G,Z]=h.exports.useState(!1),[Y,X]=h.exports.useState(null),[J,ee]=h.exports.useState();h.exports.useEffect((()=>{p.get("/prices/1").then((e=>{console.log("data :",e.data.data),ee(e.data.data)}))}),[]),h.exports.useEffect((()=>{var e,a,t,r;T(""),B(""),d&&(null==(e=F.current)||e.clean(),(null==(a=V.current)?void 0:a.value)&&(V.current.value=null==d?void 0:d.name),S(d.thumbnail),A(d.about),R(d.eabout),null==(t=F.current)||t.uploadEditor(),null==(r=q.current)||r.uploadEditor(),se("name",d.name),se("ename",d.ename),se("price",d.price),se("availability",d.availability),se("roomtype_id",d.roomtype_id),se("district_id",d.district_id),se("location_id",d.location_id),se("info",d.info),se("einfo",d.einfo),se("internet",d.internet),se("tv",d.tv),se("washing_machine",d.washing_machine),se("dryer",d.dryer),se("parking",d.parking),se("elevator",d.elevator),se("oven",d.oven),se("equipped_kitchen",d.equipped_kitchen),se("locales",d.locales),se("beds",d.beds),se("guests",d.guests),se("bathrooms",d.bathrooms),se("b_costs",d.b_costs),se("b_deposit",d.b_deposit),se("b_electricity",d.b_electricity),se("b_gas",d.b_gas),se("b_internet",d.b_internet),se("b_taxes",d.b_taxes),se("b_water",d.b_water),se("price_2",d.price_2),se("price_3",d.price_3),se("price_4",d.price_4))}),[d]),h.exports.useEffect((()=>{var e,a,t,r;Y&&(null==(e=V.current)?void 0:e.value)&&(null==(a=F.current)||a.clean(),V.current.value=null==Y?void 0:Y.name,A(Y.about),R(Y.eabout),T(Y.about),B(Y.eabout),null==(t=F.current)||t.uploadEditor(),null==(r=q.current)||r.uploadEditor(),se("roomtype_id",Y.roomtype_id),se("info",Y.info),se("einfo",Y.einfo),se("internet",Y.internet),se("tv",Y.tv),se("washing_machine",Y.washing_machine),se("dryer",Y.dryer),se("parking",Y.parking),se("elevator",Y.elevator),se("oven",Y.oven),se("equipped_kitchen",Y.equipped_kitchen),se("locales",Y.locales),se("beds",Y.beds),se("guests",Y.guests),se("bathrooms",Y.bathrooms),se("b_costs",Y.b_costs),se("b_deposit",Y.b_deposit),se("b_electricity",Y.b_electricity),se("b_gas",Y.b_gas),se("b_internet",Y.b_internet),se("b_taxes",Y.b_taxes),se("b_water",Y.b_water),se("price_2",Y.price_2),se("price_3",Y.price_3),se("price_4",Y.price_4))}),[Y]);const ae=ce((()=>{var e,a;(null==(e=V.current)?void 0:e.value)&&p.get(`/rooms/search/${null==(a=V.current)?void 0:a.value}`).then((e=>W(e.data.data)))}),300),{reset:te,register:re,handleSubmit:le,watch:ie,setValue:se,formState:{errors:me}}=m(),ue=v((e=>{const a=new FormData;return a.append("thumbnail",P||"thumbnail"),a.append("son_id",D.toString()),a.append("location_id",e.location_id.toString()),a.append("roomtype_id",e.roomtype_id.toString()),a.append("district_id",e.district_id.toString()),a.append("name",e.name),a.append("ename",e.ename),a.append("price",e.price.toString()),a.append("availability",e.availability),a.append("internet",e.internet?"true":"false"),a.append("tv",e.tv?"true":"false"),a.append("washing_machine",e.washing_machine?"true":"false"),a.append("dryer",e.dryer?"true":"false"),a.append("parking",e.parking?"true":"false"),a.append("elevator",e.elevator?"true":"false"),a.append("oven",e.oven?"true":"false"),a.append("equipped_kitchen",e.equipped_kitchen?"true":"false"),a.append("locales",e.locales.toString()),a.append("beds",e.beds.toString()),a.append("guests",e.guests.toString()),a.append("bathrooms",e.bathrooms.toString()),a.append("about",Q),a.append("eabout",M),a.append("info",e.info),a.append("einfo",e.einfo),a.append("b_internet",e.b_internet?"true":"false"),a.append("b_water",e.b_water?"true":"false"),a.append("b_electricity",e.b_electricity?"true":"false"),a.append("b_gas",e.b_gas?"true":"false"),a.append("b_taxes",e.b_taxes?"true":"false"),a.append("b_costs",e.b_costs.toString()),a.append("b_deposit",e.b_deposit.toString()),a.append("price_2",e.price_2.toString()),a.append("price_3",e.price_3.toString()),a.append("price_4",e.price_4.toString()),console.log("formData :",a),p.post(`/rooms/${t}`,a,{headers:{"content-type":"multipart/form-data"}})}),{onSuccess:()=>{Re.invalidateQueries("rooms"),_("/rooms")}}),pe=v((e=>p.delete(`/rooms/${e}`)),{onSuccess:()=>{Re.invalidateQueries("rooms"),_("/rooms")}});return u(N,{children:[o("div",{className:"flex justify-end",children:o("div",{onClick:()=>{confirm("Na pewno usunąć ??")&&pe.mutate(t)},className:"cursor-pointer bg-white rounded dark:bg-slate-800 shadow-sm p-3 ",children:o("div",{className:"hover:rotate-180 text-2xl transition-transform duration-300 ",children:o(w,{})})})}),o(Oa,{}),o("div",{className:"h-4"}),o(ye,{children:o(g,{to:`/rooms/gallery/${t}`,children:u(b.button,{whileHover:{scale:.95},className:"text-2xl w-full flex flex-col items-center  font-semibold cursor-pointer  bg-primary hover:opacity-9 text-zinc-100 px-3 py-2 rounded-sm",children:[o("h1",{className:"mb-2",children:"GALERIA"}),o(de,{className:"text-4xl"})]})})}),o("div",{className:"h-4"}),0===e&&o(ye,{className:"mb-8",children:o(b.button,{onClick:()=>{let e=null==r?void 0:r.son_id;p.get("/pep").then((a=>{const t=a.data.url.rooms.property;t.find((a=>parseInt(a.room.room_id)===e)),t[0].room[0].room_id;const l=[];t.forEach((a=>{const t=a.room.find((a=>parseInt(a.room_id)==e));t&&l.push(t)})),l[0].availability.start_date;let i=l[0].price.per_month;console.log("son_price :",i),console.log("data.id :",null==r?void 0:r.id)}))},whileHover:{scaleY:.97},className:"w-full  font-semibold cursor-pointer  bg-primary hover:opacity-9 text-zinc-100 px-3 py-2 rounded-sm",children:"Uzupełnij dane z Pepehousing"})}),u("form",{onSubmit:le((e=>{var a,t;null==(a=F.current)||a.uploadEditor(),null==(t=q.current)||t.uploadEditor(),confirm("Zapisać zmiany ?")&&ue.mutate(e)})),children:[o("div",{className:"h-4"}),u("div",{className:"max-w-2xl mx-auto",children:[0===e&&u(N,{children:[u(ye,{children:[u("label",{htmlFor:"name",children:["Polska nazwa",o("input",c(s({},re("name",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),me.name&&o(Ve,{children:"Pole wymagene"})]}),o("label",{htmlFor:"ename",children:"Angielska Nazwa"}),o("input",c(s({},re("ename",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),me.ename&&o(Ve,{children:"Pole wymagene"}),o("label",{htmlFor:"availability",children:"Dostępność"}),o("input",c(s({},re("availability",{required:!0})),{type:"date",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),me.availability&&o(Ve,{children:"Pole wymagene"})]}),o("div",{className:"h-4"})]}),0===e&&u(N,{children:[o("div",{className:"h-4"}),o("div",{className:"flex flex-col max-w-sm mx-auto",children:u("label",{className:"icon-image bg-cyan-500 font-semibold cursor-pointer self-center my-3  mt-2 hover:bg-cyan-600 text-zinc-100  rounded-lg",children:[o("img",{className:" w-96 aspect-video  object-cover mx-auto rounded-sm dark:bg-slate-700 bg-slate-100",src:C}),o("input",c(s({type:"file"},re("thumbnail")),{onChange:e=>{const a=URL.createObjectURL(e.target.files[0]);j(e.target.files[0]),S(a)},className:"hidden",name:"image"}))]})}),o("div",{className:"h-4"}),u(ye,{children:[o("label",{htmlFor:"location_id",children:"Lokalizacja"}),o("select",c(s({className:"dark:bg-zinc-700 my-2  w-full"},re("location_id",{required:!0})),{children:U&&(null==U?void 0:U.map((e=>o("option",{value:e.id,children:e.name},e.id))))})),me.location_id&&o(Ve,{children:"Pole wymagene"})]}),o("div",{className:"h-4"}),u(ye,{children:[o("label",{htmlFor:"location_id",children:"Osiedle"}),o("select",c(s({className:"dark:bg-zinc-700 my-2  w-full"},re("district_id",{required:!0})),{children:I&&(null==I?void 0:I.map((e=>o("option",{value:e.id,children:e.name},e.id))))})),me.district_id&&o(Ve,{children:"Pole wymagene"})]}),0===e&&u(N,{children:[u(ye,{children:[o("label",{htmlFor:"roomtype_id",children:"Typ pokoju"}),o("select",c(s({className:"dark:bg-zinc-700 my-2  w-full"},re("roomtype_id",{required:!0})),{children:$&&(null==$?void 0:$.map((e=>o("option",{value:e.id,children:e.name},e.id))))})),me.roomtype_id&&o(Ve,{children:"Pole wymagene"})]}),o("div",{className:"h-4"})]}),o("div",{className:"h-4"}),u(ye,{children:[o("h1",{className:"pb-8  pt-4 pl-3 text-2xl font font-medium",children:"Uzupełnij dane z : "}),u("label",{htmlFor:"search",className:"relative",children:["Szukaj pokoju :",o("input",{onFocus:()=>Z(!0),onBlur:()=>{setTimeout((()=>Z(!1)),200)},type:"text",name:"search",ref:V,onChange:ae,autoComplete:"off",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"}),o("ul",{className:"absolute w-full  list-none shadow-lg left-0 bg-slate-100 dark:bg-slate-600",children:G&&(null==K?void 0:K.map(((e,a)=>o("li",{onClick:()=>X(e),className:"p-3 hover:bg-slate-200 dark:hover:bg-slate-500 transition-colors duration-100 cursor-pointer ",children:e.name},a))))})]})]}),o("div",{className:"h-4"})]}),u(N,{children:[u(ye,{className:2===e?"":"hidden",children:[o("h1",{className:"pb-8  pt-4 pl-3 text-2xl font font-medium",children:"Opis pokoju : "}),u("div",{className:"grid grid-cols-2 py-3 gap-3",children:[o("div",{onClick:()=>k("pl"),className:("pl"===x?"dark:bg-slate-700 bg-slate-100":"")+" py-3 text-center cursor-pointer transition-colors duration-300 rounded-full",children:"Polski"}),o("div",{onClick:()=>k("en"),className:("en"===x?"dark:bg-slate-700 bg-slate-100":"")+" py-3 text-center cursor-pointer transition-colors duration-300 rounded-full",children:"Angielski"})]}),u("div",{children:[o("div",{className:""+("pl"===x?"visible":"invisible hidden"),children:o(Ha,{dataprop:L,ref:F})}),o("div",{className:""+("en"===x?"visible":"invisible hidden"),children:o(Aa,{dataprop:H,ref:q})})]})]}),o("div",{className:"h-4"})]}),3===e&&u(N,{children:[u(ye,{children:[o("h1",{className:"pb-8  pt-4 pl-3 text-2xl font font-medium",children:"Wyposażenie"}),u("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:[u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},re("internet")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"Internet"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},re("tv")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"tv"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},re("washing_machine")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"Pralka"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},re("dryer")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"suszarka"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},re("parking")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"parking"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},re("elevator")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"winda"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},re("oven")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"kuchenka"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary "},re("equipped_kitchen")),{type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"wyposażona kuchnia"})]})]})]}),o("div",{className:"h-4"})]}),1===e&&u(N,{children:[u(ye,{className:"py-12",children:[o("h1",{className:"pb-8   pl-3 text-2xl font font-medium",children:"Ceny"}),u("div",{className:"grid grid-cols-1 max-w-md mx-auto sm:grid-cols-1 gap-3 sm:gap-8 px-3",children:[u("label",{htmlFor:"price",children:["Cena podstawowa",o("input",c(s({},re("price",{required:!0})),{type:"number",className:"mx-auto w-full   mt-2 rounded-sm dark:bg-zinc-700"})),me.price&&o(Ve,{children:"Pole wymagene"})]}),u("label",{htmlFor:"rooms",children:["Cena od ",null==J?void 0:J.a1," do ",null==J?void 0:J.a2," miesięcy",o("input",c(s({type:"number"},re("price_2",{required:!0})),{className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),me.price_2&&o(Ve,{children:"Pole wymagene"})]}),u("label",{htmlFor:"price",children:["Cena od ",null==J?void 0:J.b1," do ",null==J?void 0:J.b2," miesięcy",o("input",c(s({type:"number"},re("price_3",{required:!0})),{className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),me.price_3&&o(Ve,{children:"Pole wymagene"})]}),u("label",{htmlFor:"price",children:["Cena od ",null==J?void 0:J.c1," do ",null==J?void 0:J.c2," miesięcy",o("input",c(s({},re("price_4",{required:!0})),{type:"number",className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),me.price_4&&o(Ve,{children:"Pole wymagene"})]})]})]}),o("div",{className:"h-4"}),u(ye,{children:[o("h1",{className:"pb-8  pt-4 pl-3 text-2xl font font-medium",children:"Dodatkowe koszty"}),u("div",{className:"grid grid-cols-1 max-w-md mx-auto sm:grid-cols-1 gap-3 sm:gap-8 px-3 pb-4",children:[u("label",{htmlFor:"rooms",children:["Miesięczne rachunki na osobę",o("input",c(s({},re("b_costs",{required:!0})),{type:"number",className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),me.b_costs&&o(Ve,{children:"Pole wymagene"})]}),u("label",{htmlFor:"price",children:["Depozyt",o("input",c(s({},re("b_deposit",{required:!0})),{type:"number",className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),me.b_deposit&&o(Ve,{children:"Pole wymagene"})]})]})]}),o("div",{className:"h-4"})]}),3===e&&u(N,{children:[u(ye,{children:[o("h1",{className:"pb-8  pt-4 pl-3 text-2xl font font-medium",children:"Info"}),u("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-8 px-3 pb-4",children:[u("label",{htmlFor:"rooms",children:["Pokoje",o("input",c(s({},re("locales",{required:!0})),{type:"number",className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),me.locales&&o(Ve,{children:"Pole wymagene"})]}),u("label",{htmlFor:"price",children:["Łóżka",o("input",c(s({},re("beds",{required:!0})),{type:"number",className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),me.beds&&o(Ve,{children:"Pole wymagene"})]}),u("label",{htmlFor:"price",children:["Goście",o("input",c(s({},re("guests",{required:!0})),{type:"number",className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),me.guests&&o(Ve,{children:"Pole wymagene"})]}),u("label",{htmlFor:"price",children:["Łazienki",o("input",c(s({},re("bathrooms",{required:!0})),{type:"number",className:" mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})),me.bathrooms&&o(Ve,{children:"Pole wymagene"})]})]})]}),o("div",{className:"h-4"})]}),1===e&&u(N,{children:[u(ye,{children:[o("h1",{className:"pb-8  pt-4 pl-3 text-2xl font font-medium",children:"Rachunki"}),u("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:[u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},re("b_internet")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"Internet"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},re("b_water")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"Woda"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},re("b_electricity")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"Elektyczność"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},re("b_gas")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"Gaz"})]}),u("div",{className:"flex justify-start items-center p-3",children:[o("input",c(s({},re("b_taxes")),{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})),o("label",{className:"uppercase",htmlFor:"internet",children:"Podatki"})]})]})]}),o("div",{className:"h-4"})]}),2===e&&u(N,{children:[u(ye,{children:[o("h1",{className:"pb-8  pt-4 pl-3 text-2xl font font-medium",children:"Opis skrócony"}),u(oe.Group,{children:[u(oe.List,{className:"grid grid-cols-2 py-3",children:[o(oe,{as:"div",children:({selected:e})=>o("div",{className:(e?"dark:bg-slate-700 bg-slate-100":"")+" py-3 text-center cursor-pointer transition-colors duration-300 rounded-full",children:"Polski"})}),o(oe,{as:"div",children:({selected:e})=>o("div",{className:(e?"dark:bg-slate-700 bg-slate-100":"")+" py-3 text-center cursor-pointer transition-colors duration-300 rounded-full",children:"Angielski"})})]}),u(oe.Panels,{children:[o(oe.Panel,{children:o("textarea",c(s({className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"},re("einfo")),{cols:30,rows:10}))}),o(oe.Panel,{children:o("textarea",c(s({className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"},re("info")),{cols:30,rows:10}))})]})]})]}),o("div",{className:"h-4"})]}),o(ye,{children:o("button",{type:"submit",className:"w-full hover:opacity-90  font-semibold cursor-pointer rounded-full  bg-primary hover:opacity-9 text-zinc-100 px-3 py-2 rounded-sm",children:"Zapisz"})}),o("div",{className:"h-4"})]})]})]})},Da=({})=>{const e=Na((e=>e.lat)),a=Na((e=>e.lon)),[t,r]=h.exports.useState("./Rectangle.svg"),[l,i]=h.exports.useState(null),n=z(),d=Na((e=>e.changeCoordinates));h.exports.useEffect((()=>{d(51.759445,19.457216)}),[]),h.exports.useEffect((()=>{y("lat",e),y("lon",a)}),[e,a]);const{reset:g,register:b,handleSubmit:f,watch:x,setValue:y,formState:{errors:N}}=m({defaultValues:{lat:e,lon:a}}),w=v((e=>{const a=new FormData;return a.append("name",e.name?e.name:"name"),a.append("ename",e.ename?e.ename:"ename"),a.append("lat",e.lat?e.lat:"lat"),a.append("lon",e.lon?e.lon:"lon"),a.append("thumbnail",l||"thumbnail"),p.post("/locations",a,{headers:{"content-type":"multipart/form-data"}})}),{onSuccess:()=>{Re.invalidateQueries("loactions"),n("/locations")}});return u("div",{className:"h-full",children:[o(ye,{children:o("div",{className:" w-full z-10 cursor-pointer",children:u(ae,{className:"h-96 z-10",center:[e,a],zoom:13,children:[o(Qa,{lat:e,lon:a,zoom:13}),o(te,{attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o(re,{position:[e,a],children:o(le,{children:"New Place"})})]})})}),o(ka,{}),o("div",{className:"py-4 ",children:o(ye,{children:u("form",{onSubmit:f((e=>{console.log("data :",e),w.mutate(e)})),className:"flex flex-col max-w-sm mx-auto",children:[u("label",{className:"icon-image bg-cyan-500 font-semibold cursor-pointer self-center my-3  mt-2 hover:bg-cyan-600 text-zinc-100  rounded-lg",children:[o("img",{className:" w-96 aspect-video  object-cover mx-auto rounded-sm dark:bg-slate-700 bg-slate-100",src:t}),o("input",c(s({type:"file"},b("thumbnail",{required:!0})),{onChange:e=>{const a=URL.createObjectURL(e.target.files[0]);i(e.target.files[0]),r(a)},className:"hidden",name:"image"}))]}),N.thumbnail&&o("div",{className:" w-full  text-center text-red-800",children:"thumbnail is required"}),o("label",{htmlFor:"name",children:"Polish Name"}),o("input",s({autoComplete:"off",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700",type:"text"},b("name",{required:!0,minLength:4}))),N.name&&o("p",{className:" w-full  text-red-800 ",children:"Create name min 4 characters"}),o("label",{className:"mt-2",htmlFor:"name",children:"English Name"}),o("input",s({autoComplete:"off",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700",type:"text"},b("ename",{required:!0,minLength:4}))),N.ename&&o("p",{className:" w-full  text-red-800 ",children:"Create name min 4 characters"}),o("label",{className:"mt-2",htmlFor:"lat",children:"Latitude"}),o("input",s({step:1e-7,autoComplete:"off",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700",type:"number"},b("lat",{required:!0}))),N.lat&&o("p",{className:" w-full  text-red-800 ",children:"Add latitude"}),o("label",{className:"mt-2",htmlFor:"lon",children:"Longitude"}),o("input",s({step:1e-7,autoComplete:"off",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700",type:"number"},b("lon",{required:!0}))),N.lon&&o("p",{className:" w-full  text-red-800 ",children:"Add longitude"}),o("input",{type:"submit",value:"Create",className:"bg-primary font-semibold cursor-pointer w-full   mt-4 hover:opacity-90 mb-4  text-zinc-100 px-3 py-2 rounded-sm"})]})})})]})},Qa=({lat:e,lon:a,zoom:t})=>(ie().setView([e,a],t),null),Ma=({room:e})=>{const a=qa((e=>e.changeSonData)),t=z();return o(b.div,{onClick:()=>{a(e.room_id,e.title,e.price.per_month,e.availability.start_date),t("/rooms/create")},className:"dark:bg-slate-700 bg-zinc-100 shadow-sm p-3 cursor-pointer",whileHover:{scale:.9},children:e.title},e.room_id)},Ta=({property:e})=>{const[a,t]=h.exports.useState(!1);return u(N,{children:[o("button",{onClick:()=>{t(!a)},className:"mx-auto bg-slate-100 rounded dark:bg-slate-800  shadow-sm p-3 w-full h-full",children:e.label}),o(b.div,{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:grid-cols-3",animate:{height:a?"auto":0,opacity:a?1:0,visibility:a?"visible":"hidden"},children:e.room&&e.room.map(((e,a)=>o(Ma,{room:e},e.room_id)))})]})},Ba=({})=>{const[e,a]=h.exports.useState(null);h.exports.useEffect((()=>{t()}),[]);const t=()=>{p.get("/pep").then((e=>a(e.data.url.rooms.property)))};return o("div",{className:" pb-8 mx-auto grid grid-cols-1 gap-3 max-w-2xl bg-white dark:bg-slate-600 shadow-sm p-4",children:e&&e.map((e=>o(Ta,{property:e},e.estate_id)))})},Va=({})=>{const{data:e,isError:a,error:t,isLoading:r}=y(["roomtypes",{orderBy:"id"}],qe),l=J();if(a)return o(N,{children:u(ye,{children:["Error : ",null==t?void 0:t.message]})});if(r)return o(N,{children:o(ye,{children:"Loading..."})});const i=null==e?void 0:e.sort((function(e,a){return e.id<a.id?-1:e.id>a.id?1:0}));return u("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:[o(b.div,{whileHover:{scale:.95},className:"cursor-pointer",children:o(g,{to:"/roomtype/create",children:o(ye,{children:o("div",{className:"flex-center h-full",children:o(se,{className:"text-4xl"})})})})}),null==i?void 0:i.map((e=>u(b.div,{whileHover:{scale:.95},className:"cursor-pointer relative",children:[o("div",{onClick:()=>{return a=e.id,void(confirm("Czy jesteś absolutnie pewien?")&&(p.delete(`/roomtypes/${a}`),l.invalidateQueries("roomtypes")));var a},className:"text-gray-800 text-2xl  dark:text-gray-200 absolute w-8 h-8 flex-center right-2 top-2 hover:rotate-180 transition-transform duration-300 cursor-pointer ",children:o(w,{})}),o(g,{to:`/roomtypes/${e.id}`,children:o(ye,{children:u("div",{className:"flex flex-col  items-center justify-between p-8",children:[o("h2",{className:"text-lg text-slate-800 dark:text-slate-200 my-2 uppercase ",children:e.name}),o("h2",{className:"text-lg text-slate-800 dark:text-slate-200 my-2 uppercase ",children:e.ename})]})})})]},e.id)))]})},Ka=({})=>{const e=z(),a=O();if(!a.id)return o(ye,{children:"Error no data"});const t=parseInt(a.id),{data:r,isError:l,isLoading:i,error:n}=y(["roomtypes",t],(()=>async function(e){const{data:a}=await p.get(`/roomtypes/${e}`);return a.data}(t)));console.log("data :",r),h.exports.useEffect((()=>{(null==r?void 0:r.name)&&(null==r?void 0:r.ename)&&(x("name",null==r?void 0:r.name),x("ename",null==r?void 0:r.ename))}),[r]);const{reset:d,register:g,handleSubmit:b,watch:f,setValue:x,formState:{errors:w}}=m({defaultValues:{name:null==r?void 0:r.name,ename:null==r?void 0:r.ename}}),k=v((e=>p.post(`/roomtypes/${t}`,e).then((e=>console.log("data :",e)))),{onSuccess:async()=>{await Re.refetchQueries("roomtypes"),await Re.invalidateQueries("roomtypes"),d(),e("/roomtypes")},onError:e=>{console.log("err :",e)}});return l?o(N,{children:u(ye,{children:["Error : ",null==n?void 0:n.message]})}):i?o(N,{children:o(ye,{children:"Loading..."})}):o("div",{children:o(ye,{children:u("form",{onSubmit:b((e=>{k.mutate(e)})),children:[u("label",{htmlFor:"name",children:["Polish Name",o("input",c(s({},g("name",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"}))]}),o("label",{htmlFor:"ename",children:"English Name"}),o("input",c(s({},g("ename",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto mb-8 w-full  mt-2  rounded-sm dark:bg-zinc-700"})),o("button",{type:"submit",className:"w-full hover:opacity-90  font-semibold cursor-pointer  bg-primary hover:opacity-9 text-zinc-100 px-3 py-2 rounded-sm",children:"Edit"})]})})})},Wa=({})=>{const e=z(),{reset:a,register:t,handleSubmit:r,watch:l,setValue:i,formState:{errors:n}}=m(),d=v((e=>p.post("/roomtypes/",e).then((e=>console.log("data :",e)))),{onSuccess:async()=>{await Re.refetchQueries("roomtypes"),await Re.invalidateQueries("roomtypes"),a(),e("/roomtypes")},onError:e=>{console.log("err :",e)}});return o("div",{children:o(ye,{children:u("form",{onSubmit:r((e=>{d.mutate(e)})),children:[u("label",{htmlFor:"name",children:["Polish Name",o("input",c(s({},t("name",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"}))]}),o("label",{htmlFor:"ename",children:"English Name"}),o("input",c(s({},t("ename",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto mb-8 w-full  mt-2  rounded-sm dark:bg-zinc-700"})),o("button",{type:"submit",className:"w-full hover:opacity-90  font-semibold cursor-pointer  bg-primary hover:opacity-9 text-zinc-100 px-3 py-2 rounded-sm",children:"Edit"})]})})})},Ga=({})=>{const e=z(),a=O();if(!a.id&&!a.id)return o(ye,{children:"Error no data"});const t=parseInt(a.id),{data:r,isError:l,isLoading:i,error:n}=y(["district",t],(()=>async function(e){const{data:a}=await p.get(`/districts/${e}`);return a.data}(t)));console.log("data :",r),h.exports.useEffect((()=>{(null==r?void 0:r.name)&&(null==r?void 0:r.ename)&&(x("name",null==r?void 0:r.name),x("ename",null==r?void 0:r.ename))}),[r]);const{reset:d,register:g,handleSubmit:b,watch:f,setValue:x,formState:{errors:w}}=m({defaultValues:{name:null==r?void 0:r.name,ename:null==r?void 0:r.ename}}),k=v((e=>(alert("mu"),p.post(`/districts/${t}`,e).then((e=>console.log("data :",e))))),{onSuccess:()=>{Re.invalidateQueries("districts"),d(),e("/districts")},onError:e=>{console.log("err :",e)}});return l?o(N,{children:u(ye,{children:["Error : ",null==n?void 0:n.message]})}):i?o(N,{children:o(ye,{children:"Loading..."})}):o("div",{className:"max-w-2xl mx-auto",children:o(ye,{children:u("form",{className:"",onSubmit:b((e=>{k.mutate(e)})),children:[u("label",{htmlFor:"name",children:["Polska Nazwa",o("input",c(s({},g("name",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto w-full  my-2  rounded-sm dark:bg-zinc-700"}))]}),o("label",{htmlFor:"ename",className:"pt-4",children:"Angielska Nazwa"}),o("input",c(s({},g("ename",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto mb-8 w-full  mt-2  rounded-sm dark:bg-zinc-700"})),o("button",{type:"submit",className:"w-full hover:opacity-90  font-semibold cursor-pointer  bg-primary hover:opacity-9 text-zinc-100 px-3 py-2 rounded-sm",children:"Edytuj"})]})})})},Za=({})=>{const{data:e,isError:a,error:t,isLoading:r}=y(["districts"],Ee);if(a)return o(N,{children:u(ye,{children:["Error : ",null==t?void 0:t.message]})});if(r)return o(N,{children:o(ye,{children:"Loading..."})});const l=null==e?void 0:e.sort((function(e,a){return e.id<a.id?-1:e.id>a.id?1:0}));return u("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:[o(b.div,{whileHover:{scale:.95},className:"cursor-pointer",children:o(g,{to:"/roomtype/create",children:o(ye,{children:o("div",{className:"flex-center h-full",children:o(se,{className:"text-4xl"})})})})}),null==l?void 0:l.map((e=>u(b.div,{whileHover:{scale:.95},className:"cursor-pointer relative",children:[o("div",{onClick:()=>{return a=e.id,void(confirm("Czy jesteś absolutnie pewien ?")&&(p.delete(`/districts/${a}`),Re.invalidateQueries("districts")));var a},className:"text-gray-800 text-2xl  dark:text-gray-200 absolute w-8 h-8 flex-center right-2 top-2 hover:rotate-180 transition-transform duration-300 cursor-pointer ",children:o(w,{})}),o(g,{to:`/districts/${e.id}`,children:o(ye,{children:u("div",{className:"flex flex-col  items-center justify-between p-8",children:[o("h2",{className:"text-lg text-slate-800 dark:text-slate-200 my-2 uppercase ",children:e.name}),o("h2",{className:"text-lg text-slate-800 dark:text-slate-200 my-2 uppercase ",children:e.ename})]})})})]},e.id)))]})},Ya=({})=>{const e=z(),{reset:a,register:t,handleSubmit:r,watch:l,setValue:i,formState:{errors:n}}=m(),d=v((e=>p.post("/districts",e).then((e=>console.log("data :",e)))),{onSuccess:()=>{Re.invalidateQueries("districts"),e("/districts")},onError:e=>{console.log("err :",e)}});return o("div",{children:o(ye,{children:u("form",{onSubmit:r((e=>{d.mutate(e)})),children:[u("label",{htmlFor:"name",children:["Polish Name",o("input",c(s({},t("name",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"}))]}),o("label",{htmlFor:"ename",children:"English Name"}),o("input",c(s({},t("ename",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto mb-8 w-full  mt-2  rounded-sm dark:bg-zinc-700"})),o("button",{type:"submit",className:"w-full hover:opacity-90  font-semibold cursor-pointer  bg-primary hover:opacity-9 text-zinc-100 px-3 py-2 rounded-sm",children:"Edit"})]})})})},Xa=d((e=>({isOpen:!1,pictureUrl:"",changePictureUrl:a=>e((()=>({pictureUrl:a}))),setIsOpen:a=>e((()=>({isOpen:a})))}))),Ja=({})=>{const{changePictureUrl:e,pictureUrl:a,isOpen:t,setIsOpen:r}=Xa();J();const{data:l,isError:i,error:n,isLoading:s}=y("pictures",Le);h.exports.useState([]),h.exports.useState([]);const c=J();h.exports.useEffect((()=>{}),[l]),h.exports.useEffect((()=>{}),[]);const d=v((e=>p.delete(`pictures/${e}`)),{onSuccess:e=>{c.invalidateQueries("pictures")}});return i?o("h1",{children:"Error"}):s?o(Oe,{}):o("div",{children:o("div",{className:"pt-8 grid grid-cols-1 sm:grid-cols-2 gap-3 md:grid-cols-3  ",children:null==l?void 0:l.map(((a,t)=>u(ye,{className:"relative pt-10",children:[o("div",{onClick:()=>(async e=>{confirm("Na pewno skasować ?")&&0!==e&&await d.mutate(e)})(a.id?a.id:0),className:" text-gray-800 text-2xl  dark:text-gray-200 absolute w-8 h-8 flex-center right-2 top-2 hover:rotate-180 transition-transform duration-300 cursor-pointer z-10 ",children:o(w,{})}),o("figure",{onClick:()=>(a=>{r(!0),a.picture&&e(a.picture)})(a),className:"aspect-video  relative overflow-hidden",children:o("img",{src:a.picture_sm,alt:"",className:" object object-contain absolute-center "})})]},a.id)))})})},et=({})=>{const{pictureUrl:e,isOpen:a,setIsOpen:t}=Xa(),r=O();if(!r.id)return o(ye,{children:"Error no data"});const l=r.id;return u("div",{children:[u(me,{className:"fixed z-30 inset-0 overflow-y-auto flex-center",open:a,onClose:()=>t(!1),children:[o(me.Overlay,{className:"fixed inset-0 bg-white opacity-90  "}),o(me.Description,{className:"  relative bg-slate-200 py-2 z-20",children:o("img",{className:"max-w-screen-lg w-full z-50",src:e,alt:""})}),o("button",{onClick:()=>t(!1),className:" text-gray-800 text-4xl  dark:text-gray-200 absolute w-8 h-8 flex-center right-8 top-8 hover:rotate-180 transition-transform duration-300 cursor-pointer z-10 ",children:o(w,{})})]}),o(ye,{children:o(g,{to:`/rooms/gallery/add/${l}`,children:u(b.button,{whileHover:{scale:.95},className:"text-2xl w-full flex flex-col items-center  font-semibold cursor-pointer  bg-primary hover:opacity-9 text-zinc-100 px-3 py-2 rounded-sm",children:[o("h1",{className:"mb-2 uppercase",children:"Dodaj"}),o(de,{className:"text-4xl"})]})})}),o("div",{className:"h-8"}),o(Ja,{}),o("div",{className:"h-8"})]})},at=({})=>{const[e,a]=h.exports.useState([]),[t,r]=h.exports.useState(!1),l=h.exports.useCallback((t=>{a([...e,...t])}),[e]),i=O(),n=z();if(h.exports.useState(0),!i.id)return o(ye,{children:"Error no data"});const d=i.id,[m,g]=h.exports.useState([]),[f,x]=h.exports.useState(null),{acceptedFiles:y,getRootProps:N,getInputProps:w}=_({onDrop:l}),k=v((e=>{const a={headers:{"content-type":"multipart/form-data"}},t=e.map((e=>{const t=new FormData;return t.append("name",e.name.replace(/\.[^/.]+$/,"")),t.append("room_id",d.toString()),t.append("picture",e),p.post("/pictures",t,a)}));return r(!0),p.all(t)}),{onSuccess:()=>{r(!1),Re.invalidateQueries("pictures"),n(-1)}});return u("div",{children:[o(ye,{children:o("section",{className:"h-64 items-stretch justify-between  \t    flex-col  border-4 border-slate-300 border-dotted cursor-pointer",children:u("div",c(s({},N({className:"dropzone"})),{className:" h-full flex-center",children:[o("input",s({},w())),u("div",{className:"flex flex-col  h-full flex-center  w-full",children:[o(C,{className:"f text-5xl mb-2 mx-auto"}),o("p",{children:"Przeciągnij lub kliknij aby dodać zdjęcia"})]})]}))})}),o("div",{className:"h-8"}),o("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:m.map(((e,a)=>o(ye,{className:" w-full",children:o("img",{className:"aspect-video",src:e.url,alt:""})},a)))}),o("div",{className:"h-8"}),o("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 my-8",children:e.map(((e,a)=>o(ye,{className:" aspect-video",children:o("img",{className:"",src:URL.createObjectURL(e),alt:""})},a)))}),u(ye,{className:"text-2xl w-full py-4   items-center grid grid-cols-1 sm:grid-cols-2 gap-3  font-semibold cursor-pointer",children:[o(b.div,{onClick:async()=>{x([]),k.mutate(e)},whileHover:{scale:.95},className:"flex-center bg-primary hover:opacity-9  text-zinc-100  text-center py-2 rounded-sm",children:t?o(Oe,{}):o("div",{className:"h-12  flex-center",children:"Dodaj "})}),o(b.div,{onClick:()=>{a([])},whileHover:{scale:.95},className:" bg-white hover:opacity-9  text-primary  text-center py-2 rounded-sm",children:o("div",{className:"h-12 flex-center",children:"Wyczyść"})})]})]})},tt=({data:e})=>{const[a,t]=h.exports.useState(null),[r,l]=h.exports.useState("./Rectangle.svg"),i=J();h.exports.useEffect((()=>{l(e.icon)}),[]);const{register:n,handleSubmit:d,watch:g,reset:b,formState:{errors:f}}=m({defaultValues:{title:e.title,etitle:e.etitle,text:e.text,etext:e.etext}}),x=v((t=>{const r=new FormData;return r.append("title",t.title),r.append("etitle",t.etitle),r.append("text",t.text),r.append("etext",t.etext),a&&r.append("icon",a),console.log("newData :",t),console.log("formData :",r),console.log("data :",e),p.post(`/reservations/${e.id}`,r,{headers:{"content-type":"multipart/form-data"}}),new Promise(((e,a)=>{}))}),{onSuccess:()=>{i.invalidateQueries("policies")}});return u("form",{className:"flex justify-center  gap-3 my-3",onSubmit:d((e=>{console.log("data :",e);const a={title:e.title,etitle:e.etitle,text:e.text,etext:e.etext};confirm("zmienić dane ?")&&x.mutate(a)})),children:[o("div",{className:" relative h-20 w-20 flex-center bg-white  rounded-full dark:bg-slate-800 shadow-sm",children:u("label",{className:"h-20 w-20  icon-image  overflow-hidden rounded-full   font-semibold cursor-pointer self-center  text-zinc-100  ",children:[o("img",{className:"  w-full h-full over  dark:bg-slate-700 object-cover bg-slate-100",src:r}),o("input",c(s({type:"file"},n("icon")),{onChange:e=>{const a=URL.createObjectURL(e.target.files[0]);t(e.target.files[0]),l(a)},className:"hidden",name:"image"}))]})}),f.icon&&o(Ve,{children:"icon is required"}),u(ye,{className:"flex flex-col ",children:[u("div",{className:"flex flex-col md:flex-row md:gap-3   justify-between mb-3",children:[u("label",{className:"w-full",htmlFor:"title",children:["Polska Nazwa",o("input",c(s({},n("title",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto w-full  md:mt-2  rounded-sm dark:bg-zinc-700"}))]}),o("div",{className:"h-4 md:h-8"}),u("label",{className:"w-full",htmlFor:"etitle",children:["Angielska nazwa",o("input",c(s({},n("etitle",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto w-full  md:mt-2  rounded-sm dark:bg-zinc-700"}))]})]}),u(oe.Group,{children:[u(oe.List,{className:"grid grid-cols-2",children:[o(oe,{as:"div",children:({selected:e})=>o("div",{className:(e?"dark:bg-slate-700 bg-slate-100":"")+"  text-center cursor-pointer transition-colors duration-300",children:"PL"})}),o(oe,{as:"div",children:({selected:e})=>o("div",{className:(e?"dark:bg-slate-700 bg-slate-100":"")+"  text-center cursor-pointer transition-colors duration-300",children:"EN"})})]}),u(oe.Panels,{children:[u(oe.Panel,{children:[o("textarea",s({className:"mx-auto w-full  mt-1  rounded-sm dark:bg-zinc-700"},n("text"))),f.etext&&o(Ve,{children:"icon is required"})]}),u(oe.Panel,{children:[o("textarea",s({className:"mx-auto w-full  mt-1  rounded-sm dark:bg-zinc-700"},n("etext"))),f.text&&o(Ve,{children:"icon is required"})]})]})]}),o("button",{type:"submit",className:" py-1 px-3 w-full mx-auto   mt-4  hover:opacity-95 bg-primary text-slate-100",children:"Wyślij"})]})]})},rt=({})=>{const{data:e,isError:a,isLoading:t,error:r}=y("reservations",He);return a?o(ye,{children:"Error"}):t?o(ye,{children:"Is Loading"}):o("div",{children:null==e?void 0:e.map((e=>o(tt,{data:e},e.id)))})},lt=({})=>{const{data:e,isError:a,isLoading:t,error:r}=y("reservations",He);return a||t?o(ye,{children:null==r?void 0:r.message}):o(N,{children:o(rt,{})})},it=({})=>{const e=z(),{data:a,isError:t,isLoading:r,error:l}=y("policies",He),[i,n]=h.exports.useState(null),[d,g]=h.exports.useState("./Rectangle.svg"),{register:b,handleSubmit:f,watch:x,reset:N,formState:{errors:w}}=m(),k=J();console.log("data :",a);const _=v((e=>{const a=new FormData;return a.append("text",e.text),a.append("etext",e.etext),a.append("title",e.title),a.append("etitle",e.etitle),i&&a.append("icon",i),console.log("formData :",a),p.post("/reservations",a,{headers:{"content-type":"multipart/form-data"}})}),{onSuccess:()=>{k.invalidateQueries("reservations"),e("/reservations")}});return t||r?o(ye,{children:null==l?void 0:l.message}):o("div",{children:u("form",{className:"flex flex-col sm:flex-row gap-3",onSubmit:f((e=>{const a={etext:e.etext,text:e.text,title:e.title,etitle:e.etitle};_.mutate(a)})),children:[o("div",{className:" relative mx-auto h-32 w-36 flex-center bg-white rounded dark:bg-slate-800 shadow-sm",children:u("label",{className:" icon-image h-32 w-32 overflow-hidden   font-semibold cursor-pointer self-center  text-zinc-100  rounded-lg",children:[o("img",{className:"  w-full h-full over  dark:bg-slate-700 object-cover bg-slate-100",src:d}),o("input",c(s({type:"file"},b("icon",{required:!0})),{onChange:e=>{const a=URL.createObjectURL(e.target.files[0]);n(e.target.files[0]),g(a)},className:"hidden",name:"image"}))]})}),w.icon&&o(Ve,{children:"icon is required"}),u("div",{className:"flex w-full flex-col",children:[u(ye,{className:"flex flex-col md:flex-row md:gap-3   justify-evenly",children:[u("label",{className:"w-full",htmlFor:"title",children:["Polish Name",o("input",c(s({},b("title",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto w-full  md:mt-2  rounded-sm dark:bg-zinc-700"}))]}),o("div",{className:"h-4 md:h-8"}),u("label",{className:"w-full",htmlFor:"etitle",children:["Polish Name",o("input",c(s({},b("etitle",{required:!0,minLength:3})),{autoComplete:"off",type:"text",className:"mx-auto w-full  md:mt-2  rounded-sm dark:bg-zinc-700"}))]})]}),u(ye,{children:[u(oe.Group,{children:[u(oe.List,{className:"grid grid-cols-2",children:[o(oe,{as:"div",children:({selected:e})=>o("div",{className:(e?"dark:bg-slate-700 bg-slate-100":"")+"  text-center cursor-pointer transition-colors duration-300",children:"PL"})}),o(oe,{as:"div",children:({selected:e})=>o("div",{className:(e?"dark:bg-slate-700 bg-slate-100":"")+"  text-center cursor-pointer transition-colors duration-300",children:"EN"})})]}),u(oe.Panels,{children:[u(oe.Panel,{children:[o("textarea",c(s({className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"},b("text")),{cols:10,rows:5})),w.etext&&o(Ve,{children:"icon is required"})]}),u(oe.Panel,{children:[o("textarea",c(s({className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"},b("etext")),{cols:10,rows:5})),w.text&&o(Ve,{children:"icon is required"})]})]})]}),o("button",{type:"submit",className:" w-full  py-2  mt-4  hover:opacity-95 bg-primary text-slate-100",children:"Wyślij"})]})]})]})})},nt=({children:e,className:a,onClick:t})=>o("section",{onClick:t,className:` ${a}   mx-auto bg-white rounded dark:bg-slate-800 shadow-sm  w-full h-full`,children:e}),st=({editor:e})=>e?u(nt,{className:"flex mb-2 justify-evenly items-center  flex-wrap rounded-full px-3 py-2",children:[o("div",{onClick:()=>e.chain().focus().toggleBold().run(),className:(e.isActive("bold")?"text-primary":"")+" xx",children:o(F,{})}),o("div",{onClick:()=>e.chain().focus().toggleItalic().run(),className:(e.isActive("italic")?"text-primary":"")+" cursor-pointer",children:o(q,{className:"text-md"})}),o("div",{onClick:()=>e.chain().focus().toggleStrike().run(),className:e.isActive("strike")?"text-primary":"",children:o(L,{})}),o("div",{onClick:()=>e.chain().focus().setParagraph().run(),className:e.isActive("paragraph")?"text-primary":"",children:"p"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:1}).run(),className:e.isActive("heading",{level:1})?"text-primary":"",children:"h1"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),className:e.isActive("heading",{level:2})?"text-primary":"",children:"h2"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:3}).run(),className:e.isActive("heading",{level:3})?"text-primary":"",children:"h3"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:4}).run(),className:e.isActive("heading",{level:4})?"text-primary":"",children:"h4"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:5}).run(),className:e.isActive("heading",{level:5})?"text-primary":"",children:"h5"}),o("div",{onClick:()=>e.chain().focus().toggleHeading({level:6}).run(),className:e.isActive("heading",{level:6})?"text-primary":"",children:"h6"}),o("div",{onClick:()=>e.chain().focus().toggleBulletList().run(),className:e.isActive("bulletList")?"text-primary":"",children:o(A,{})}),o("div",{onClick:()=>e.chain().focus().setHorizontalRule().run(),children:"hr"}),o("div",{onClick:()=>e.chain().focus().setHardBreak().run(),children:"br"}),o("div",{onClick:()=>e.chain().focus().undo().run(),children:o(R,{})}),o("div",{onClick:()=>e.chain().focus().redo().run(),children:o(I,{})})]}):null,ct=d((e=>({policyPl:"Pl from store",policyEn:"En from Store",editPolicy:!1,changePolicyPl:a=>e({policyPl:a}),changePolicyEn:a=>e({policyEn:a}),changePolicy:()=>e((e=>({editPolicy:!e.editPolicy})))}))),ot=h.exports.forwardRef((({text:e},a)=>{const t=ct((e=>e.changePolicyPl));h.exports.useImperativeHandle(a,(()=>({uploadEditor:()=>{const e=null==r?void 0:r.getHTML();e&&t(e)},clean:()=>{}}))),h.exports.useEffect((()=>{null==r||r.commands.clearContent(),null==r||r.commands.insertContent(e)}),[e]);const r=P({extensions:[j],content:e});return u(N,{children:[o(st,{editor:r}),o(E,{editor:r})]})})),dt=h.exports.forwardRef((({text:e},a)=>{ct((e=>e.editPolicy));const t=ct((e=>e.changePolicyEn));h.exports.useImperativeHandle(a,(()=>({uploadEditor:()=>{const e=null==r?void 0:r.getHTML();e&&t(e)},clean:()=>{}}))),h.exports.useEffect((()=>{null==r||r.commands.clearContent(),null==r||r.commands.insertContent(e)}),[e]);const r=P({extensions:[j],content:e});return u(N,{children:[o(st,{editor:r}),o(E,{editor:r})]})})),mt=({})=>{const{data:e,isError:a,isLoading:t,error:r}=y("policy",(()=>async function(){const{data:e}=await p.get("/policies/1");return e.data}())),l=ct((e=>e.changePolicy));ct((e=>e.policyPl)),ct((e=>e.policyEn));const i=h.exports.useRef(null),n=h.exports.useRef(null),[s,c]=h.exports.useState("pl");return a?o(ye,{children:"Error"}):t?o(Oe,{}):u("div",{children:[u(nt,{className:"grid grid-cols-2 py-3 gap-3 mb-3  rounded-3xl px-3 ",children:[o("div",{onClick:()=>c("pl"),className:("pl"===s?"dark:bg-slate-700 bg-slate-100":"")+" py-3 text-center cursor-pointer transition-colors duration-300 rounded-3xl",children:"PL"}),o("div",{onClick:()=>c("en"),className:("en"===s?"dark:bg-slate-700 bg-slate-100":"")+" py-3 text-center cursor-pointer transition-colors duration-300 rounded-3xl",children:"EN"})]}),u("div",{children:[o("div",{className:""+("pl"===s?"visible":"invisible hidden"),children:o(ot,{text:(null==e?void 0:e.etext)?null==e?void 0:e.etext:""})}),o("div",{className:""+("en"===s?"visible":"invisible hidden"),children:o(dt,{text:(null==e?void 0:e.etext)?null==e?void 0:e.etext:""})})]}),o("button",{onClick:()=>{var e,a;l(),null==(e=i.current)||e.uploadEditor(),null==(a=n.current)||a.uploadEditor()},className:"bg-primary w-full text-center py-2 my-3 rounded-lg hover:opacity-95",children:"Edutuj"})]})},ut=({})=>u(N,{children:[o(ye,{className:"text-2xl mb-5",children:"Policy"}),o("div",{children:o(mt,{})})]}),pt=({})=>u("div",{children:[o(ye,{children:"Publikacje na Facebook"}),o(ye,{className:"max-w-sm mt-4",children:u("form",{className:" flex gap-3 flex-wrap",children:[u("label",{className:"",htmlFor:"price",children:["Ile dni przed Zwolnieniem",o("input",{type:"number",className:"mx-auto w-full mt-2  rounded-sm dark:bg-zinc-700"})]}),u("label",{htmlFor:"price",className:"",children:["Która godzina",o("input",{type:"number",className:"mx-auto w-full  mt-2  rounded-sm dark:bg-zinc-700"})]}),u("div",{className:"flex items-center",children:[o("label",{className:"uppercase mr-3",htmlFor:"internet",children:"Publikuj"}),o("input",{className:"focus:ring-3 focus:ring-primary text-primary mr-4 border-primary outline-primary ring-primary ",type:"checkbox"})]}),o("button",{type:"submit",className:"w-full hover:opacity-90  font-semibold cursor-pointer  bg-primary hover:opacity-9 text-zinc-100 px-3 py-2 rounded-sm",children:"Zmień"})]})})]}),ht=new x,gt=({})=>{const e=De((e=>e.darkmode));return u(ue,{client:ht,children:[o("div",{className:` ${e?"dark":""}   `,children:o(pe,{children:u(he,{children:[u(ge,{path:"/",element:o(ua,{}),children:[o(ge,{path:"/",element:o(ke,{})}),o(ge,{path:"/about",element:o(ze,{})}),o(ge,{path:"/notes",element:o(Be,{})}),o(ge,{path:"/notes/create",element:o(Ge,{})}),o(ge,{path:"/note/:id",element:o(Ze,{})}),o(ge,{path:"/notes/categories",element:o(ba,{})}),o(ge,{path:"/media",element:o(Ie,{})}),o(ge,{path:"/media/add",element:o($e,{})}),o(ge,{path:"/map",element:o(xa,{})}),o(ge,{path:"/map/categories",element:o(va,{})}),o(ge,{path:"/map/create",element:o(za,{})}),o(ge,{path:"/rooms",element:o(Pa,{})}),o(ge,{path:"/locations",element:o(ja,{})}),o(ge,{path:"/locations/create",element:o(Da,{})}),o(ge,{path:"/rooms/create",element:o($a,{})}),o(ge,{path:"/rooms/:id",element:o(Ua,{})}),o(ge,{path:"/rooms/gallery/:id",element:o(et,{})}),o(ge,{path:"/roomtypes/",element:o(Va,{})}),o(ge,{path:"/roomtypes/:id",element:o(Ka,{})}),o(ge,{path:"/rooms/gallery/add/:id",element:o(at,{})}),o(ge,{path:"/roomtype/create",element:o(Wa,{})}),o(ge,{path:"districts/",element:o(Za,{})}),o(ge,{path:"districts/:id",element:o(Ga,{})}),o(ge,{path:"district/create",element:o(Ya,{})}),o(ge,{path:"/locations/:id",element:o(Ea,{})}),o(ge,{path:"/son",element:o(Ba,{})}),o(ge,{path:"/olx",element:o(Ue,{})}),o(ge,{path:"/facebook",element:o(pt,{})}),o(ge,{path:"/reservations",element:o(lt,{})}),o(ge,{path:"/reservations/create",element:o(it,{})}),o(ge,{path:"/policy",element:o(ut,{})}),o(ge,{path:"*",element:o(Ye,{})})]}),u(ge,{path:"/auth",element:o(ha,{}),children:[o(ge,{path:"/auth/login",element:o(Qe,{})}),o(ge,{path:"/auth/register",element:o(Me,{})}),o(ge,{path:"*",element:o(Ye,{})})]})]})})}),o(be.exports.ReactQueryDevtools,{initialIsOpen:!1})]})};if("localhost:3000"===window.location.host)p.defaults.baseURL="http://localhost:8000/api";else{let e=window.location.protocol+"//"+window.location.host+"/api";p.defaults.baseURL=e}fe.render(o(xe.StrictMode,{children:o(gt,{})}),document.getElementById("root"));
